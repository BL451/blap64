var e=globalThis,t={},i={},n=e.parcelRequire905d;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequire905d=n),n.register;var o=n("800sp"),s=n("baa6D");const l=function(e,t={}){let i,n,o,l,r,a=[],h=0,d=[],c=[],u=!1,g=t.skipAnimations||!1;function m(e){h=255*e}function p(){if(0!==a.length)if(u){let t=.5*e.width,i=.7*e.height,n=.45*e.width,o=[{x:t-n/2,y:i-n/2},{x:t+n/2,y:i-n/2},{x:t-n/2,y:i+n/2},{x:t+n/2,y:i+n/2}];for(let e=0;e<a.length;e++){let t=o[e%o.length];a[e].p.x=t.x,a[e].p.y=t.y,a[e].textWriter.p.x=t.x,a[e].textWriter.p.y=t.y}}else{let t=.15*e.width,i=.75*e.height,n=.85*e.width,o=.2*e.height,s=.6*e.width,l=.65*e.height;for(let e=0;e<a.length;e++){let r=a.length>1?e/(a.length-1):0,h=1-r,d=h*h*t+2*h*r*s+r*r*n,c=h*h*i+2*h*r*l+r*r*o;a[e].p.x=d,a[e].p.y=c,a[e].textWriter.p.x=d,a[e].textWriter.p.y=c}}}e.setup=async function(){e.noCanvas();let t=(0,s.getViewportSize)();e.createCanvas(t.width,t.height),u=(0,s.widthCheck)(e.width),e.background(23),e.noFill(),e.stroke(230),e.strokeWeight(4),e.strokeCap(e.PROJECT),await (0,s.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),e.textAlign(e.CENTER,e.CENTER),o=e.min(e.width,e.height);let w=Math.max(.022*e.width,32);a.push(new(0,s.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",w)),a.push(new(0,s.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",w)),a.push(new(0,s.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",w)),a.push(new(0,s.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"COLLECT",w)),p(),i=e.width/2,n=e.height/2,e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),r=(0,s.getFontSizes)(e.width,e.height);let f=[.04,.15];u&&(f=[.025,.05]),d.push(new(0,s.TextWriter)(e,f[0]*e.width,f[0]*e.width,e.width,e.height/2,"HELLO, FRIEND.",r.large)),d.push(new(0,s.TextWriter)(e,f[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,s.TextWriter)(e,f[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST",r.medium)),c=[{start_time:500,duration:1e3,idx:0,fn:d[0].renderSequentialRandom.bind(d[0]),args:[],persist:!0},{start_time:3e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["HELLO, FRIEND.","My name is Benjamin Lappalainen"],persist:!0},{start_time:4e3,duration:500,idx:1,fn:d[1].renderSequentialRandom.bind(d[1]),args:[],persist:!0},{start_time:4750,duration:2e3,idx:2,fn:d[2].renderSequentialRandom.bind(d[2]),args:[],persist:!0},{start_time:7250,duration:1e3,idx:2,fn:d[2].renderTransition.bind(d[2]),args:["CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST","CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more..."],persist:!0},{start_time:5e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["My name is Benjamin Lappalainen","Benjamin Lappalainen"],persist:!0},{start_time:7e3,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["Benjamin Lappalainen","BLAP"],persist:!0},{start_time:7500,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["BLAP","BLAP64"],persist:!0},{start_time:4e3,duration:1e3,idx:3,fn:m,args:[],persist:!1}],l=new(0,s.AnimationManager)(c),g&&(d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",h=255,l.t=999999),window.addEventListener("focus",t=>{e.millis()>5e3&&m(1)})},e.draw=function(){i=(0,s.smoothFollow)(e.mouseX,i,.003*e.deltaTime),n=(0,s.smoothFollow)(e.mouseY,n,.003*e.deltaTime),e.clear(),e.background(23),e.textAlign(e.CENTER,e.CENTER),a.forEach(t=>{let l=t.dist(i,n);t.cs.x=(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0)),t.cs.y=(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0)),e.strokeWeight(1+.015*o*(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0,!0))),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20,h):e.stroke(230,h),t.render(),e.noStroke();let r=0;u||(r=t.textWriter.dist(i,n)),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(r/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20,h):e.fill(230,h),t.textWriter.renderSequentialRandom(e.map(r,100,.5*e.width,1,0,!0))}),e.noFill(),e.stroke(230),e.strokeWeight(2),e.noStroke(),e.fill(230),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),l.execute(e),(0,s.updateCursor)(e,e.mouseX,e.mouseY,a)},e.mousePressed=function(t){t&&0!==t.button||h<128||a.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive")},500);break;case 1:console.log("Photo section coming soon!");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),o=e.min(t.width,t.height),u=(0,s.widthCheck)(e.width),r=(0,s.getFontSizes)(e.width,e.height);let i=[.05,.15];u&&(i=[.025,.05]),a.length=0;let n=Math.max(.022*e.width,32);a.push(new(0,s.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",n)),a.push(new(0,s.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",n)),a.push(new(0,s.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",n)),a.push(new(0,s.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"COLLECT",n)),p(),g?(d.length=0,d.push(new(0,s.TextWriter)(e,i[0]*e.width,i[0]*e.width,.8*e.width,e.height/2,"BLAP64",r.large)),d.push(new(0,s.TextWriter)(e,i[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,s.TextWriter)(e,i[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",r.medium))):(d[0].p.x=i[0]*e.width,d[0].p.y=i[0]*e.width,d[0].s.x=.8*e.width,d[0].s.y=e.height/2,d[0].size=r.large,d[1].p.x=i[1]*e.width,d[1].p.y=.18*e.height,d[1].s.x=e.width/2,d[1].s.y=e.height/2,d[1].size=r.small,d[2].p.x=i[1]*e.width,d[2].p.y=.22*e.height,d[2].s.x=e.width,d[2].s.y=e.height/2,d[2].size=r.medium)}};var s=n("baa6D");const r=function(e){let t,i=128;e.setup=function(){e.noCanvas(),e.pixelDensity(1);let n=(0,s.getViewportSize)();e.createCanvas(n.width,n.height,e.WEBGL);let o={width:128,height:128,textureFiltering:e.NEAREST};e.noSmooth(),e.ellipseMode(e.CENTER),i=e.min(n.width,n.height),t=e.createFramebuffer(o);let l=document.getElementById("bg").shadowRoot.getElementById("p5_loading");l&&l.remove()},e.draw=function(){e.clear(),t.begin(),e.noFill(),e.stroke(200,20,20),e.strokeWeight(e.abs(e.sin(e.frameCount/42))),e.clear(),e.rotateX(e.frameCount/50),e.rotateY(e.frameCount/200),e.circle(0,0,64),e.rotateY(e.PI/2),e.circle(0,0,64),t.end(),e.image(t,-i/2,-i/2,i,i)},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),i=e.min(t.width,t.height)}};var s=n("baa6D");const a=function(e){let t,i,n,o=[],l=128,r=0,a=0;function h(){o.length=0;let r=Math.max(.022*e.width,32);o.push(new(0,s.UITriangleButton)(e,t,i-n,.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"LIVE\nEXPERIENCES",r)),o[0].setTextOffset(0,-.9*n),o.push(new(0,s.UITriangleButton)(e,t-n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"PHYSICAL\nARTIFACTS",r)),o[1].setTextOffset(-.95*n*e.cos(e.PI/6),.95*n*e.sin(e.PI/6)),o.push(new(0,s.UITriangleButton)(e,t+n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"WEB\nEXPERIENCES",r)),o[2].setTextOffset(.95*n*e.cos(e.PI/6),.95*n*e.sin(e.PI/6))}function d(t,i){return{x:t*e.cos(i),y:-t*e.sin(i)}}function c(t=0,i=0,n=0){return 2*(e.noise(t,i,n)-.5)}e.setup=function(){e.noCanvas(),e.pixelDensity(1);let o=(0,s.getViewportSize)();e.createCanvas(o.width,o.height),l=e.min(o.width,o.height),t=.5*e.width,i=.6*e.height,n=.2*l,h(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT);let r=document.getElementById("bg").shadowRoot.getElementById("p5_loading");r&&r.remove()},e.draw=function(){e.background(23),r=(0,s.smoothFollow)(e.mouseX,r,.003*e.deltaTime),a=(0,s.smoothFollow)(e.mouseY,a,.003*e.deltaTime),e.noFill(),e.stroke(230),e.strokeWeight(1),o.forEach(t=>{let i=t.dist(r,a);t.cs.x=(0,s.easeInCubic)(e.map(i,0,.5*e.width,1,0)),t.cs.y=(0,s.easeInCubic)(e.map(i,0,.5*e.width,1,0)),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20):e.stroke(230),t.renderTriangle(),e.noStroke();let n=0;n=i,e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(n/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20):e.fill(230),t.textWriter.renderSequentialRandom(e.map(n,100,.5*e.width,1,0,!0))}),function(){let o=3e-4*e.millis();e.noFill(),e.stroke(230),e.strokeWeight(1);let s=e.createVector(r,a),l=e.createVector(t,i),h=p5.Vector.sub(s,l),u=h.heading(),g=t+.1*e.min(h.mag(),3*n)*e.cos(u),m=i+.1*e.min(h.mag(),3*n)*e.sin(u);e.circle(g,m,.5*n);let p=-u,w=p+c(o),f=2*e.PI/3+p+c(o),v=4*e.PI/3+p+c(o),x=d(.2*n,w),y=d(.3*n,w),k=d(.2*n,f),T=d(.3*n,f),S=d(.2*n,v),I=d(.3*n,v);e.line(g+x.x,m+x.y,g+y.x,m+y.y),e.line(g+k.x,m+k.y,g+T.x,m+T.y),e.line(g+S.x,m+S.y,g+I.x,m+I.y),p=e.abs(p);for(let t=0;t<3;t++){let i=e.PI*c(.1*p+3e-4*e.millis());w=t*e.TWO_PI/3+.6*e.PI/6+p+i,f=t*e.TWO_PI/3+1.4*e.PI/6+p+i,x=d(.5*n,w),y=d(.5*n,f),e.line(g+x.x,m+x.y,g+y.x,m+y.y);let o=.02*p/e.PI+.02,s=(.5-o)*n,l=(.5+o)*n;x=d(s,w),y=d(l,w),e.line(g+x.x,m+x.y,g+y.x,m+y.y),x=d(s,f),y=d(l,f),e.line(g+x.x,m+x.y,g+y.x,m+y.y)}}(),(0,s.updateCursor)(e,e.mouseX,e.mouseY,o)},e.windowResized=function(){let o=(0,s.getViewportSize)();e.resizeCanvas(o.width,o.height),l=e.min(o.width,o.height),t=.5*e.width,i=.6*e.height,n=.2*l,h()},e.mousePressed=function(t){t&&0!==t.button||o.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive/live")},500);break;case 1:console.log("PHYSICAL ARTIFACTS COMING SOON");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})}};var s=n("baa6D"),h=n("JTwtx");const d=function(e,t={}){let i,o,l,r=[],a=128,d=0,c=0,u=e.createVector(d,c),g=!1,m=[],p=null,w=0,f=0,v=!1,x=0,y=0,k=0,T=!1,S=0,I=0,E=new Map,C=null,b=0,P=!1,R=0,A=0,W=null,F=null,z=!1,B=0,O=null;function L(){let t=(0,s.widthCheck)(e.width),i=t?e.min(.95*e.width,.9*e.height):e.min(.9*e.width,.85*e.height,900),n=(e.width-i)/2,o=(e.height-i)/2;return{size:i,x:n,y:o,isMobile:t}}function V(e,t,i,n){let o=n?e/400:e/600,s=25*o,l=25*o;return{galleryY:i+s+5.3*l,galleryHeight:.4*e,baseTextScale:o,padding:s,lineHeight:l}}function Y(t,i,n,o){e.fill(0,0,0,o/255*120),e.noStroke(),e.circle(t+n/2,i+n/2,n),e.fill(255,255,255,o/255*180);let s=.35*n,l=t+n/2+.1*s,r=i+n/2;e.triangle(l-s/2,r-s/2,l-s/2,r+s/2,l+s/2,r)}function X(){let t=(0,s.getViewportSize)();a=e.min(t.width,t.height),g=(0,s.widthCheck)(t.width),i=.5*e.width,o=.5*e.height,function(t){m=[];let i=h.projects.length;for(let n=0;n<i;n++){let o=t*(1.8+.8*n),l=e.random(e.TWO_PI),r=5e-5/(1+.3*n),a=t*(.3+e.random(.2)),d=e.map(n,0,i,230,120),c=g?Math.max(16,.8*a):Math.max(14,.7*a),u=1.2*a;m.push(new(0,s.UIPlanetButton)(e,0,0,a,o,l,r,d,h.projects[n].name,c,0,u))}}(l=.07*a),r.length=0,e.width,z=!0}function j(t){p=t,x=255,f=e.millis(),v=!0,y=0,k=0,T=!1,U(h.projects[t]),document.body.style.overscrollBehavior="none",document.body.style.touchAction="none";let i=h.projects[t];i&&i.slug&&Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e(`/interactive/live/${i.slug}`)})}function D(){x=0,f=e.millis(),v=!0,y=0,k=0,T=!1,null!==C&&_(),document.body.style.overscrollBehavior="",document.body.style.touchAction="",window.location.hash.includes("/interactive/live/")&&"#/interactive/live"!==window.location.hash&&window.history.pushState(null,"","#/interactive/live"),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e("/interactive/live")}),sessionStorage.removeItem("installationsActiveProject")}function H(){return(e,t)=>{if(null!==p){let{size:i,x:n,y:o,isMobile:s}=L(),l=s?44:30,r=n+i-l-10,a=o+10;return e>=r&&e<=r+l&&t>=a&&t<=a+l}return!1}}function N(t,i,n,o,s,l){e.fill(40,40,40,s),e.stroke(100,s),e.strokeWeight(l?2:1),e.rect(t,i,n,n),e.fill(230,s),e.noStroke();let r=t+n/2,a=i+n/2,h=.3*n,d=.4*n;"left"===o?e.triangle(r-h/2,a,r+h/2,a-d/2,r+h/2,a+d/2):e.triangle(r+h/2,a,r-h/2,a-d/2,r-h/2,a+d/2)}function M(e,t=!1){if(e>=0&&e<h.projects.length&&e!==p){p=e,y=0,k=0,null!==C&&_(),U(h.projects[e]);let i=h.projects[e];if(i&&i.slug){let e=`/interactive/live/${i.slug}`;t||window.history.replaceState(null,"",`#${e}`),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}),sessionStorage.setItem("installationsActiveProject",i.slug)}}}function U(t){t.images&&0!==t.images.length&&t.images.forEach((i,n)=>{let o=(0,s.getMediaPath)(i);if(!E.has(o)){let n=(0,s.isVideoFile)(o);if(g&&n){if(t.thumbnails&&t.thumbnails[i]){let n=t.thumbnails[i];e.loadImage(n,e=>{E.set(o,{element:e,type:"video-thumbnail",videoSrc:o,loaded:!0})},e=>{console.error("Failed to load video thumbnail:",n,e),E.set(o,{element:null,type:"video-placeholder",videoSrc:o,loaded:!0})})}else E.set(o,{element:null,type:"video-placeholder",videoSrc:o,loaded:!0});return}n?function(t){let i=e.createVideo(t,()=>{E.set(t,{element:i,type:"video",loaded:!0})});i.hide(),i.volume(0),i.elt.setAttribute("playsinline",!0),i.elt.setAttribute("muted",!0),i.elt.setAttribute("preload","metadata"),g?(i.noLoop(),i.pause(),i.elt.addEventListener("loadedmetadata",()=>{i.elt.currentTime=.1}),i.elt.addEventListener("seeked",()=>{i.pause()})):i.loop(),i.elt.addEventListener("loadeddata",()=>{E.set(t,{element:i,type:"video",loaded:!0})}),i.elt.addEventListener("canplay",()=>{E.set(t,{element:i,type:"video",loaded:!0})}),E.set(t,{element:i,type:"video",loaded:!1}),setTimeout(()=>{let e=E.get(t);e&&!e.loaded&&E.set(t,{element:i,type:"video",loaded:!0})},3e3)}(o):e.loadImage(o,e=>{E.set(o,{element:e,type:"image",loaded:!0})},e=>{console.error("Failed to load image:",o,e)})}})}function _(){A=0,R=e.millis(),P=!0,W&&(W.remove(),W=null)}e.cleanupSketch=function(){W&&(W.remove(),W=null),E.forEach((e,t)=>{"video"===e.type&&e.element&&e.element.remove&&e.element.remove()}),E.clear(),p=null,C=null,w=0,b=0,document.body.style.overscrollBehavior="",document.body.style.touchAction="",O&&(window.removeEventListener("hashchange",O),O=null)},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let i=(0,s.getViewportSize)();e.createCanvas(i.width,i.height),X(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT),await (0,s.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),await (0,s.loadGoogleFontSet)("../../assets/fonts/ZxGamut.ttf"),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let n=document.getElementById("bg").shadowRoot.getElementById("p5_loading");n&&n.remove(),t&&t.project?(F=t.project,t.project,sessionStorage.setItem("installationsActiveProject",t.project)):sessionStorage.getItem("installationsActiveProject")&&(sessionStorage.removeItem("installationsActiveProject"),F=null,p=null,w=0,x=0,v=!1),O=function(e){let t=window.location.hash.substr(1);"/interactive/live"===(t&&""!==t?t.startsWith("/")?t:"/"+t:"/")&&null!==p&&D()},window.addEventListener("hashchange",O)},e.draw=function(){if(e.background(23),B++,d=(0,s.smoothFollow)(e.mouseX,d,.003*e.deltaTime),c=(0,s.smoothFollow)(e.mouseY,c,.003*e.deltaTime),u.x=d,u.y=c,e.noFill(),e.stroke(230),e.strokeWeight(1),function(t,i,n){e.fill("#faa000"),e.noStroke(),e.circle(t,i,.8*n);let o=n*(.69+.03*e.sin(.001*e.millis())),s=.15*n,l=5e-5*e.millis();for(let n=0;n<3;n++){var r,a;let h=e.TWO_PI/3*n+l,d=(r=o,a=h,{x:r*e.cos(a),y:-r*e.sin(a)}),c=t+d.x,u=i+d.y;e.push(),e.translate(c,u),e.rotate(-h+e.HALF_PI),e.triangle(0,-(.6*s),-(.5*s),.5*s,.5*s,.5*s),e.pop()}}(i,o,l),e.noFill(),e.strokeWeight(1),m.forEach((t,n)=>{t.updatePosition(i,o,e.deltaTime),e.noFill(),e.stroke(80,80,80,100),e.strokeWeight(1),e.circle(i,o,2*t.orbitRadius),t.render(u,a)}),F&&z&&m&&m.length>0&&B>5){let e=(0,h.getProjectIndexBySlug)(F);-1!==e&&e<m.length&&j(e),F=null}e.noFill(),e.stroke(230,50);let t=.03*a;if(e.push(),e.translate(d,c),e.rotate(e.TWO_PI*e.noise(d/a,c/a,1e-4*e.millis())),e.circle(0,0,.33*t),e.triangle(t,0,t*e.cos(e.TWO_PI/3),t*e.sin(e.TWO_PI/3),t*e.cos(2*e.TWO_PI/3),t*e.sin(2*e.TWO_PI/3)),e.pop(),v){let t=e.millis()-f,i=e.constrain(t/250,0,1);w=e.lerp(w,x,i),i>=1&&(v=!1,w=x,0===x&&(p=null))}if(T||(y=e.lerp(y,k,.1)),P){let t=e.millis()-R,i=e.constrain(t/300,0,1);b=e.lerp(b,A,i),i>=1&&(P=!1,b=A,0===A&&(C=null))}let n=null!==p?[r,H(),(e,t)=>{if(null!==p&&h.projects.length>1){let{size:i,x:n,y:o,isMobile:s}=L(),l=s?50:40,r=s?20:15,a=o+i+r,h=n+(i-(2*l+3*r))/2,d=h+r,c=h+2*r+l;if(e>=d&&e<=d+l&&t>=a&&t<=a+l||e>=c&&e<=c+l&&t>=a&&t<=a+l)return!0}return!1}]:[r,...m,H()];(0,s.updateCursor)(e,e.mouseX,e.mouseY,...n),(null!==p||w>0)&&function(t){let{size:i,x:n,y:o,isMobile:l}=L();e.fill(0,0,0,w/255*120),e.noStroke(),e.rect(0,0,e.width,e.height),e.fill(23,23,23,w/255*240),e.stroke(230,w),e.strokeWeight(2),e.rect(n,o,i,i);let r=l?44:30;var a=n+i-r-10,d=o+10,c=w;let u=.25*r;e.fill(50,50,50,c/255*200),e.stroke(200,c),e.strokeWeight(1),e.rect(a,d,r,r),e.stroke(200,c),e.strokeWeight(2),e.line(a+u,d+u,a+r-u,d+r-u),e.line(a+r-u,d+u,a+u,d+r-u),e.fill(230,w),e.noStroke(),e.textAlign(e.LEFT,e.TOP);let g=l?i/400:i/600,m=25*g,f=25*g,v=o+m;if(e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(24*g),e.text(t.name,n+m,v,i-2*m-r),v+=1.8*f,e.textSize(16*g),e.text(t.type,n+m,v,i-2*m),v+=f,e.text(t.location,n+m,v,i-2*m),v+=f,e.text(t.year,n+m,v,i-2*m),v+=1.5*f,t.images&&t.images.length>0){let o=.4*i,l=v;(function(t,i,n,o,l,r){if(!t||0===t.length)return;e.fill(0,0,0,w/255*100),e.stroke(230,.3*w),e.strokeWeight(1),e.rect(i,n,o,l),e.push(),e.drawingContext.save(),e.drawingContext.beginPath(),e.drawingContext.rect(i,n,o,l),e.drawingContext.clip();let a=10*r,h=l-2*a,d=1.5*h,c=t.length*(d+a)-a,u=i+a,g=n+a,m=e.max(0,c-o+2*a);if(k=e.constrain(k,-m,0),t.forEach((t,n)=>{let l=(0,s.getMediaPath)(t),c=u+n*(d+a)+y;if(c+d>=i&&c<=i+o){let t=E.get(l);if(t&&t.loaded){e.push(),e.tint(255,w);try{if("image"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:l,sourceHeight:r}=(0,s.calculateCropDimensions)(i.width,i.height,d,h);e.image(i,c,g,d,h,n,o,l,r)}else if("video-thumbnail"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:l,sourceHeight:r}=(0,s.calculateCropDimensions)(i.width,i.height,d,h);e.image(i,c,g,d,h,n,o,l,r);let a=.15*d,u=c+(d-a)/2,m=g+(h-a)/2;Y(u,m,a,w)}else if("video"===t.type){let i=t.element;if(i.elt&&(i.elt.readyState>=1||i.elt.videoWidth>0)){let t=i.elt.videoWidth||i.width||1920,n=i.elt.videoHeight||i.height||1080,{sourceX:o,sourceY:l,sourceWidth:r,sourceHeight:a}=(0,s.calculateCropDimensions)(t,n,d,h);e.image(i,c,g,d,h,o,l,r,a)}else e.fill(40,40,40,w/255*200),e.noStroke(),e.rect(c,g,d,h);let n=.15*d,o=c+(d-n)/2,l=g+(h-n)/2;e.fill(0,0,0,w/255*120),e.noStroke(),e.circle(o+n/2,l+n/2,n),e.fill(255,255,255,w/255*180);let r=.35*n,a=o+n/2+.1*r,u=l+n/2;e.triangle(a-r/2,u-r/2,a-r/2,u+r/2,a+r/2,u)}else if("video-placeholder"===t.type){e.fill(23,23,23,w/255*240),e.noStroke(),e.rect(c,g,d,h);let t=.15*d,i=c+(d-t)/2,n=g+(h-t)/2;Y(i,n,t,w)}}catch(i){console.warn("Error rendering media:",i),e.fill(80,80,80,w/255*150),e.stroke(120,.5*w),e.strokeWeight(1),e.rect(c,g,d,h),e.fill(200,.7*w),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(10*r),e.text("video"===t.type?"Video Error":"Image Error",c+d/2,g+h/2)}e.pop()}else e.fill(50,50,50,w/255*150),e.stroke(100,.5*w),e.strokeWeight(1),e.rect(c,g,d,h),e.fill(150,.7*w),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(12*r),e.text("Loading...",c+d/2,g+h/2);e.noFill(),e.stroke(230,.6*w),e.strokeWeight(1),e.rect(c,g,d,h)}}),c>o){let t=.8*w;y<0&&(e.fill(230,t),e.noStroke(),e.triangle(i+5,n+l/2,i+15,n+l/2-5,i+15,n+l/2+5)),y>-m&&(e.fill(230,t),e.noStroke(),e.triangle(i+o-5,n+l/2,i+o-15,n+l/2-5,i+o-15,n+l/2+5))}e.drawingContext.restore(),e.pop()})(t.images,n+m,l,i-2*m,o,g),v+=o+f}if(t.description&&t.description.length>0){e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(14*g),e.fill(230,w),e.noStroke();let s=i-(v-o)-m;e.text(t.description,n+m,v,i-2*m,s),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"})}h.projects.length>1&&function(t,i,n,o,s){let l=o?50:40,r=o?20:15,a=i+n+r,d=t+(n-(2*l+3*r))/2,c=d+2*r+l,u=w;N(d+r,a,l,"left",u,o),N(c,a,l,"right",u,o);let g=a+l+(o?25:20);e.fill(230,w),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize((o?16:14)*s),e.text(`${p+1} / ${h.projects.length}`,t+n/2,g)}(n,o,i,l,g)}(h.projects[p]),(null!==C||b>0)&&function(){let t,i,n;if(null===p||null===C)return;let o=h.projects[p];if(!o.images||C>=o.images.length)return;let l=o.images[C];t="string"==typeof l?l:l&&"object"==typeof l?l.default||l.src||l.href||l.toString():String(l);let r=E.get(t);if(t.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i)||r&&("video-placeholder"===r.type||"video-thumbnail"===r.type))return!function(t){let i,n;e.fill(0,0,0,b/255*200),e.noStroke(),e.rect(0,0,e.width,e.height),W||((W=document.createElement("video")).src=t,W.controls=!0,W.preload="metadata",W.setAttribute("playsinline",!0),W.muted=!0,W.style.position="fixed",W.style.zIndex="1000",W.style.backgroundColor="#000",W.style.borderRadius="8px",document.body.appendChild(W));let o=(0,s.widthCheck)(e.width)?e.width:.8*e.width,l=.8*e.height,r=16/9;W.videoWidth&&W.videoHeight&&(r=W.videoWidth/W.videoHeight),r>o/l?(i=o,n=o/r):(n=l,i=l*r);let a=(e.width-i)/2,h=(e.height-n)/2;W.style.left=a+"px",W.style.top=h+"px",W.style.width=i+"px",W.style.height=n+"px",W.style.opacity=b/255;let d=a+i-40-10,c=h+10;e.fill(0,0,0,b/255*150),e.stroke(255,b),e.strokeWeight(2),e.rect(d,c,40,40),e.stroke(255,b),e.strokeWeight(3),e.line(d+12,c+12,d+40-12,c+40-12),e.line(d+40-12,c+12,d+12,c+40-12)}(r&&r.videoSrc?r.videoSrc:t);if(!r||!r.loaded)return;e.fill(0,0,0,b/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let a=(0,s.widthCheck)(e.width)?e.width:.8*e.width,d=.8*e.height;if("image"===r.type){let e=r.element,t=e.width/e.height;t>a/d?(i=a,n=a/t):(n=d,i=d*t)}else if("video"===r.type){let e=r.element,t=e.elt.videoWidth||e.width||1920,o=e.elt.videoHeight||e.height||1080;(t<=0||o<=0)&&(t=1920,o=1080);let s=t/o;s>a/d?(i=a,n=a/s):(n=d,i=d*s)}let c=(e.width-i)/2,u=(e.height-n)/2;e.push(),e.tint(255,b),e.image(r.element,c,u,i,n),e.pop();let g=c+i-40-10,m=u+10;e.fill(0,0,0,b/255*150),e.stroke(255,b),e.strokeWeight(2),e.rect(g,m,40,40),e.stroke(255,b),e.strokeWeight(3),e.line(g+12,m+12,g+40-12,m+40-12),e.line(g+40-12,m+12,g+12,m+40-12)}()},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),X()},e.mousePressed=function(t){if(!t||0===t.button){if(null!==C){let t,i,n,o=h.projects[p].images[C],l=(t="string"==typeof o?o:o&&"object"==typeof o?o.default||o.src||o.href||o.toString():String(o)).toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),r=(0,s.widthCheck)(e.width)?e.width:.8*e.width,a=.8*e.height;if(l){let e=W&&W.videoWidth&&W.videoHeight?W.videoWidth/W.videoHeight:16/9;e>r/a?(i=r,n=r/e):(n=a,i=a*e)}else{let e=E.get(t);if(!e||!e.loaded)return;{let t=e.element,o=t.width/t.height;o>r/a?(i=r,n=r/o):(n=a,i=a*o)}}let d=(e.width-i)/2,c=(e.height-n)/2,u=d+i-40-10,g=c+10;return e.mouseX>=u&&e.mouseX<=u+40&&e.mouseY>=g&&e.mouseY<=g+40||e.mouseX<d||e.mouseX>d+i||e.mouseY<c||e.mouseY>c+n?void _():void 0}if(r.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/codeart")},500);break;case 1:console.log("Photo section coming soon!");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}}),null!==p){let{size:t,x:i,y:n,isMobile:o}=L(),s=o?44:30,l=i+t-s-10,r=n+10;if(e.mouseX>=l&&e.mouseX<=l+s&&e.mouseY>=r&&e.mouseY<=r+s)return void D();if(h.projects.length>1){let s=o?50:40,l=o?20:15,r=n+t+l,a=i+(t-(2*s+3*l))/2,d=a+l,c=a+2*l+s;if(e.mouseX>=d&&e.mouseX<=d+s&&e.mouseY>=r&&e.mouseY<=r+s)return void M(0===p?h.projects.length-1:p-1);if(e.mouseX>=c&&e.mouseX<=c+s&&e.mouseY>=r&&e.mouseY<=r+s)return void M(p===h.projects.length-1?0:p+1)}let a=h.projects[p];if(a.images&&a.images.length>0){let s=o?t/400:t/600,l=25*s,r=n+l+25*s*5.3;if(e.mouseX>=i+l&&e.mouseX<=i+t-l&&e.mouseY>=r&&e.mouseY<=r+.4*t){T=!0,S=e.mouseX,I=y;return}}return e.mouseX<i||e.mouseX>i+t||e.mouseY<n||e.mouseY>n+t?void D():void 0}m.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){j(i);let e=h.projects[i];if(e&&e.slug&&window.appRouter){let t=`/interactive/live/${e.slug}`;window.location.hash!==`#${t}`&&window.history.pushState(null,"",`#${t}`)}return}})}},e.mouseDragged=function(){if(T&&null!==p){let t=e.mouseX-S;k=y=I+t}},e.mouseReleased=function(){if(T){let t=Math.abs(e.mouseX-S);if(T=!1,t<5&&null!==p){let t=h.projects[p];if(t&&t.images&&t.images.length>0){let{size:i,x:n,y:o,isMobile:s}=L(),{galleryY:l,galleryHeight:r,baseTextScale:a,padding:h}=V(i,n,o,s),{itemWidth:d,itemHeight:c,galleryPadding:u}=function(e,t){let i=10*t,n=e-2*i;return{itemWidth:1.5*n,itemHeight:n,galleryPadding:i}}(r,a),g=n+h+u,m=l+u;for(let i=0;i<t.images.length;i++){let t=g+i*(d+u)+y;if(e.mouseX>=t&&e.mouseX<=t+d&&e.mouseY>=m&&e.mouseY<=m+c)return void(C=i,A=255,R=e.millis(),P=!0)}}}let i=h.projects[p];if(i&&i.images&&i.images.length>0){let t=(0,s.widthCheck)(e.width)?e.min(.95*e.width,.9*e.height):e.min(.9*e.width,.85*e.height,900),n=(0,s.widthCheck)(e.width)?t/400:t/600,o=20*n,l=i.images.length*(.4*t*1.35+o)-o,r=e.max(0,l-(t-25*n*2)+20*n);k=e.constrain(k,-r,0)}}},e.mouseWheel=function(t){if(null!==p){let i=h.projects[p];if(i&&i.images&&i.images.length>0){let{size:n,x:o,y:s,isMobile:l}=L(),{galleryY:r,galleryHeight:a,baseTextScale:h,padding:d}=V(n,o,s,l);if(e.mouseX>=o+d&&e.mouseX<=o+n-d&&e.mouseY>=r&&e.mouseY<=r+a){let o=2*t.delta;k-=o;let s=n-2*d,l=20*h,r=i.images.length*(.9*a*1.5+l)-l,c=e.max(0,r-s+20*h);return k=e.constrain(k,-c,0),!1}}}}};class c extends o.LitElement{static styles=(0,o.css)`
        canvas {
            display: block;
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
    `;static properties={id:{type:String},sketch:{type:String},skipAnimations:{type:Boolean},options:{type:Object}};constructor(){super(),this.id="bg",this.sketch="",this.skipAnimations=!1,this.options={},this.p5Instance=null,this.containerDiv=null,this.isInitialized=!1}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.isInitialized||this.initializeSketch()})}disconnectedCallback(){super.disconnectedCallback(),this.cleanupSketch()}updated(e){super.updated(e),this.isInitialized&&(e.has("sketch")||e.has("skipAnimations")||e.has("options"))?(this.cleanupSketch(),this.initializeSketch()):this.isInitialized||this.initializeSketch()}cleanupSketch(){try{this.p5Instance&&(console.log(`p5-element: Cleaning up p5 instance for ${this.sketch}`),"function"==typeof this.p5Instance.cleanupSketch&&this.p5Instance.cleanupSketch(),this.p5Instance.remove(),this.p5Instance=null),this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}catch(e){console.error("p5-element: Error during cleanup:",e),this.p5Instance=null,this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}}initializeSketch(){try{if(this.containerDiv||(this.containerDiv=this.shadowRoot.querySelector("#sketch-container")),!this.containerDiv){console.warn("p5-element: Container not ready yet, retrying..."),setTimeout(()=>this.initializeSketch(),100);return}if(this.containerDiv.innerHTML="",console.log(`p5-element: Initializing sketch: ${this.sketch}, skipAnimations: ${this.skipAnimations}, options:`,this.options),"home"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>l(e,t),e))(this.containerDiv,{skipAnimations:this.skipAnimations});else if("codeart"===this.sketch){let e;this.p5Instance=(e=this.containerDiv,new p5(a,e))}else if("installations"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>d(e,t),e))(this.containerDiv,this.options);else{let e;this.p5Instance=(e=this.containerDiv,new p5(r,e))}this.p5Instance&&(console.log(`p5-element: Successfully created p5 instance for ${this.sketch}`),this.isInitialized=!0)}catch(e){console.error("p5-element: Error initializing sketch:",e),this.isInitialized=!1}}render(){return(0,o.html)`<div id="sketch-container"></div>`}}customElements.define("p5-element",c);
//# sourceMappingURL=blap64.20e196ea.js.map
