var e=globalThis,t={},i={},n=e.parcelRequire905d;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},e.parcelRequire905d=n),n.register;var o=n("800sp"),l=n("baa6D");const s=function(e,t={}){let i,n,o,s,r,h=[],a=0,d=[],c=[],u=!1,p=t.skipAnimations||!1;function g(e){a=255*e}function m(){if(0!==h.length)if(u){let t=.5*e.width,i=.7*e.height,n=.45*e.width,o=[{x:t-n/2,y:i-n/2},{x:t+n/2,y:i-n/2},{x:t-n/2,y:i+n/2},{x:t+n/2,y:i+n/2}];for(let e=0;e<h.length;e++){let t=o[e%o.length];h[e].p.x=t.x,h[e].p.y=t.y,h[e].textWriter.p.x=t.x,h[e].textWriter.p.y=t.y}}else{let t=.15*e.width,i=.75*e.height,n=.85*e.width,o=.2*e.height,l=.6*e.width,s=.65*e.height;for(let e=0;e<h.length;e++){let r=h.length>1?e/(h.length-1):0,a=1-r,d=a*a*t+2*a*r*l+r*r*n,c=a*a*i+2*a*r*s+r*r*o;h[e].p.x=d,h[e].p.y=c,h[e].textWriter.p.x=d,h[e].textWriter.p.y=c}}}e.setup=async function(){e.noCanvas();let t=(0,l.getViewportSize)();e.createCanvas(t.width,t.height),u=(0,l.widthCheck)(e.width),e.background(23),e.noFill(),e.stroke(230),e.strokeWeight(4),e.strokeCap(e.PROJECT),e.textAlign(e.CENTER,e.CENTER),o=e.min(e.width,e.height);let w=u?14:Math.max(.022*e.width,32);h.push(new(0,l.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",w)),h.push(new(0,l.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",w)),h.push(new(0,l.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",w)),h.push(new(0,l.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"LINKS",w)),m(),i=e.width/2,n=e.height/2,e.mouseX=i,e.mouseY=n,e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),r=(0,l.getFontSizes)(e.width,e.height);let f=[.04,.15];u&&(f=[.025,.05]),d.push(new(0,l.TextWriter)(e,f[0]*e.width,f[0]*e.width,e.width,e.height/2,"HELLO, FRIEND.",r.large)),d.push(new(0,l.TextWriter)(e,f[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,l.TextWriter)(e,f[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST",r.medium)),c=u?[{start_time:500,duration:1e3,idx:0,fn:d[0].renderSequentialRandom.bind(d[0]),args:[],persist:!0},{start_time:3e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["HELLO, FRIEND.","My name is Benjamin Lappalainen"],persist:!0},{start_time:5500,duration:500,idx:1,fn:d[1].renderSequentialRandom.bind(d[1]),args:[],persist:!0},{start_time:6250,duration:2e3,idx:2,fn:d[2].renderSequentialRandom.bind(d[2]),args:[],persist:!0},{start_time:7750,duration:1e3,idx:2,fn:d[2].renderTransition.bind(d[2]),args:["CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST","CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more..."],persist:!0},{start_time:4500,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["My name is Benjamin Lappalainen","Benjamin Lappalainen"],persist:!0},{start_time:7e3,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["Benjamin Lappalainen","BLAP"],persist:!0},{start_time:7500,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["BLAP","BLAP64"],persist:!0},{start_time:4e3,duration:1e3,idx:3,fn:g,args:[],persist:!1}]:[{start_time:500,duration:1e3,idx:0,fn:d[0].renderSequentialRandom.bind(d[0]),args:[],persist:!0},{start_time:3e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["HELLO, FRIEND.","My name is Benjamin Lappalainen"],persist:!0},{start_time:4e3,duration:500,idx:1,fn:d[1].renderSequentialRandom.bind(d[1]),args:[],persist:!0},{start_time:4750,duration:2e3,idx:2,fn:d[2].renderSequentialRandom.bind(d[2]),args:[],persist:!0},{start_time:7250,duration:1e3,idx:2,fn:d[2].renderTransition.bind(d[2]),args:["CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST","CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more..."],persist:!0},{start_time:5e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["My name is Benjamin Lappalainen","Benjamin Lappalainen"],persist:!0},{start_time:7e3,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["Benjamin Lappalainen","BLAP"],persist:!0},{start_time:7500,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["BLAP","BLAP64"],persist:!0},{start_time:4e3,duration:1e3,idx:3,fn:g,args:[],persist:!1}],s=new(0,l.AnimationManager)(c),p&&(d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",a=255,s.t=999999),window.addEventListener("focus",t=>{e.millis()>5e3&&g(1)})},e.draw=function(){u?(i=.5*e.width+.31*o*e.cos(6e-4*e.millis()),n=.7*e.height+.31*o*e.sin(6e-4*e.millis())):(i=e.constrain((0,l.smoothFollow)(e.mouseX,i,.003*e.deltaTime),0,e.width),n=e.constrain((0,l.smoothFollow)(e.mouseY,n,.003*e.deltaTime),0,e.height)),e.clear(),e.background(23),e.textAlign(e.CENTER,e.CENTER),h.forEach(t=>{let s=t.dist(i,n);t.cs.x=(0,l.easeInCubic)(e.map(s,0,.5*e.width,1,0)),t.cs.y=(0,l.easeInCubic)(e.map(s,0,.5*e.width,1,0)),e.strokeWeight(1+.015*o*(0,l.easeInCubic)(e.map(s,0,.5*e.width,1,0,!0))),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20,a):e.stroke(230,a),t.render(),e.noStroke(),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(s/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20,a):e.fill(230,a),t.textWriter.renderSequentialRandom(e.map(s,100,u?e.width:.5*e.width,1,0,!0))}),e.noFill(),e.stroke(230),e.strokeWeight(2),e.noStroke(),e.fill(230),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),s.t>9e3?(d[0].renderTransition(e.map(d[0].dist(i,n),100,250,0,1,!0),"Benjamin Lappalainen","BLAP64"),d[1].render(),d[2].render()):s.execute(e),(0,l.updateCursor)(e,e.mouseX,e.mouseY,h)},e.mousePressed=function(t){if((!t||0===t.button)&&!window.helpPopupOpen&&!window.contactPopupOpen){if(a<128&&!p){p=!0,d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",a=255,s.t=999999;return}a<128||h.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive")},500);break;case 1:setTimeout(()=>{window.appRouter.navigate("/photo")},500);break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500);break;case 3:setTimeout(()=>{window.appRouter.navigate("/links")},500)}return}})}},e.touchStarted=function(e){return!window.helpPopupOpen&&(a<128&&!p&&(p=!0,d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",a=255,s.t=999999),!1)},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),o=e.min(t.width,t.height),u=(0,l.widthCheck)(e.width),r=(0,l.getFontSizes)(e.width,e.height);let i=[.05,.15];u&&(i=[.025,.05]),h.length=0;let n=u?14:Math.max(.022*e.width,32);h.push(new(0,l.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",n)),h.push(new(0,l.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",n)),h.push(new(0,l.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",n)),h.push(new(0,l.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"COLLECT",n)),m(),p?(d.length=0,d.push(new(0,l.TextWriter)(e,i[0]*e.width,i[0]*e.width,.8*e.width,e.height/2,"BLAP64",r.large)),d.push(new(0,l.TextWriter)(e,i[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,l.TextWriter)(e,i[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",r.medium))):(d[0].p.x=i[0]*e.width,d[0].p.y=i[0]*e.width,d[0].s.x=.8*e.width,d[0].s.y=e.height/2,d[0].size=r.large,d[1].p.x=i[1]*e.width,d[1].p.y=.18*e.height,d[1].s.x=e.width/2,d[1].s.y=e.height/2,d[1].size=r.small,d[2].p.x=i[1]*e.width,d[2].p.y=.22*e.height,d[2].s.x=e.width,d[2].s.y=e.height/2,d[2].size=r.medium)}};var l=n("baa6D");const r=function(e){let t,i=128;e.setup=function(){e.noCanvas(),e.pixelDensity(1);let n=(0,l.getViewportSize)();e.createCanvas(n.width,n.height,e.WEBGL);let o={width:128,height:128,textureFiltering:e.NEAREST};e.noSmooth(),e.ellipseMode(e.CENTER),i=e.min(n.width,n.height),t=e.createFramebuffer(o);let s=document.getElementById("bg").shadowRoot.getElementById("p5_loading");s&&s.remove()},e.draw=function(){e.clear(),t.begin(),e.noFill(),e.stroke(200,20,20),e.strokeWeight(e.abs(e.sin(e.frameCount/42))),e.clear(),e.rotateX(e.frameCount/50),e.rotateY(e.frameCount/200),e.circle(0,0,64),e.rotateY(e.PI/2),e.circle(0,0,64),t.end(),e.image(t,-i/2,-i/2,i,i)},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),i=e.min(t.width,t.height)}};var l=n("baa6D");const h=function(e){let t,i,n,o=[],s=128,r=0,h=0,a=!1;function d(){o.length=0;let r=a?18:Math.max(.022*e.width,32);o.push(new(0,l.UITriangleButton)(e,t,i-n,.1*s,.1*s,.01*e.width,.01*e.width,-.5*e.PI,"LIVE\nEXPERIENCES",r)),o[0].setTextOffset(0,-.9*n),o.push(new(0,l.UITriangleButton)(e,t-n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*s,.1*s,.01*e.width,.01*e.width,-.5*e.PI,"PHYSICAL\nARTIFACTS\n(COMING SOON)",r,[230],[220,160,0])),o[1].setTextOffset(-.95*n*e.cos(e.PI/6),1.15*n*e.sin(e.PI/6)),o.push(new(0,l.UITriangleButton)(e,t+n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*s,.1*s,.01*e.width,.01*e.width,-.5*e.PI,"WEB\nEXPERIENCES",r)),o[2].setTextOffset(.95*n*e.cos(e.PI/6),1.15*n*e.sin(e.PI/6))}function c(t,i){return{x:t*e.cos(i),y:-t*e.sin(i)}}function u(t=0,i=0,n=0){return 2*(e.noise(t,i,n)-.5)}e.setup=function(){e.noCanvas(),e.pixelDensity(1);let o=(0,l.getViewportSize)();a=(0,l.widthCheck)(o.width),e.createCanvas(o.width,o.height),s=e.min(o.width,o.height),t=.5*e.width,i=a?.5*e.height:.6*e.height,n=.2*s,d(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT);let r=document.getElementById("bg").shadowRoot.getElementById("p5_loading");r&&r.remove()},e.draw=function(){e.background(23),a?(r=.5*e.width+.2*s*e.cos(-e.PI/2+.001*e.millis()),h=.5*e.height+.2*s*e.sin(-e.PI/2+.001*e.millis())):(r=(0,l.smoothFollow)(e.mouseX,r,.003*e.deltaTime),h=(0,l.smoothFollow)(e.mouseY,h,.003*e.deltaTime)),e.noFill(),e.stroke(230),e.strokeWeight(1),o.forEach(t=>{let i=t.dist(r,h);t.cs.x=(0,l.easeInCubic)(e.map(i,0,.5*e.width,1,0)),t.cs.y=(0,l.easeInCubic)(e.map(i,0,.5*e.width,1,0)),e.noFill();let n=t.contains(e.mouseX,e.mouseY),o=t.getColor(n);e.stroke(...o),t.renderTriangle(),e.noStroke(),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(i/e.width,1,0,100,900,!0)}`});let s=t.getColor(n);e.fill(...s),t.textWriter.renderSequentialRandom(e.map(i,100,.5*e.width,1,0,!0))}),function(){let o=3e-4*e.millis();e.noFill(),e.stroke(230),e.strokeWeight(1);let l=e.createVector(r,h),s=e.createVector(t,i),a=p5.Vector.sub(l,s),d=a.heading(),p=t+.1*e.min(a.mag(),3*n)*e.cos(d),g=i+.1*e.min(a.mag(),3*n)*e.sin(d);e.circle(p,g,.5*n);let m=-d,w=m+u(o),f=2*e.PI/3+m+u(o),y=4*e.PI/3+m+u(o),v=c(.2*n,w),x=c(.3*n,w),E=c(.2*n,f),k=c(.3*n,f),S=c(.2*n,y),b=c(.3*n,y);e.line(p+v.x,g+v.y,p+x.x,g+x.y),e.line(p+E.x,g+E.y,p+k.x,g+k.y),e.line(p+S.x,g+S.y,p+b.x,g+b.y),m=e.abs(m);for(let t=0;t<3;t++){let i=e.PI*u(.1*m+3e-4*e.millis());w=t*e.TWO_PI/3+.6*e.PI/6+m+i,f=t*e.TWO_PI/3+1.4*e.PI/6+m+i,v=c(.5*n,w),x=c(.5*n,f),e.line(p+v.x,g+v.y,p+x.x,g+x.y);let o=.02*m/e.PI+.02,l=(.5-o)*n,s=(.5+o)*n;v=c(l,w),x=c(s,w),e.line(p+v.x,g+v.y,p+x.x,g+x.y),v=c(l,f),x=c(s,f),e.line(p+v.x,g+v.y,p+x.x,g+x.y)}}(),(0,l.updateCursor)(e,e.mouseX,e.mouseY,o)},e.windowResized=function(){let o=(0,l.getViewportSize)();a=(0,l.widthCheck)(o.width),e.resizeCanvas(o.width,o.height),s=e.min(o.width,o.height),t=.5*e.width,i=.6*e.height,n=.2*s,d()},e.mousePressed=function(t){t&&0!==t.button||window.helpPopupOpen||window.contactPopupOpen||o.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive/live")},500);break;case 1:console.log("PHYSICAL ARTIFACTS COMING SOON");break;case 2:setTimeout(()=>{window.appRouter.navigate("/interactive/web")},500)}return}})}};var l=n("baa6D"),a=n("fJjw1"),d=n("iAIzO");const c=function(e,t={}){let i=[],o=!1,s=0,r=null,h=null,c=0,u=0,p=!1,g=0,m=0;e.setup=async function(){let t=(0,l.getViewportSize)();e.createCanvas(t.width,t.height),o=(0,l.widthCheck)(t.width),e.ellipseMode(e.CENTER),e.rectMode(e.CENTER),e.background(23),e.strokeCap(e.PROJECT),e.frameRate(60),document.body.style.overscrollBehavior="none",document.body.style.overflow="hidden",document.body.style.touchAction="none",e.preventAllTouch=null;let n=()=>{e.frameRate(60),(window.AudioContext||window.webkitAudioContext)&&(window.AudioContext||window.webkitAudioContext,e.getAudioContext&&"suspended"===e.getAudioContext().state&&e.getAudioContext().resume())};document.addEventListener("touchstart",n,{once:!0,passive:!0}),document.addEventListener("click",n,{once:!0}),document.addEventListener("keydown",n,{once:!0}),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let r=.2*e.min(e.width,e.height),h=.3*e.min(e.width,e.height),d=.1*e.min(e.width,e.height),c=.15*e.min(e.width,e.height);for(let t=0;t<a.projects.length;t++){let n=a.projects[t],o=new(0,l.UIWebButton)(e,e.random(.2*e.width,.8*e.width),e.random(.2*e.height,.8*e.height),e.random(r,h),e.random(d,c),n);o.vel=e.createVector(),o.acc=e.createVector(),o.neighbors=[],i.push(o)}s=(0,l.daysSince)("2019-09-05")},e.draw=function(){e.background(22),m++;for(let e=0;e<i.length;e++)!function(e,t,i){let n=[];for(let i=0;i<t.length;i++){if(t[i]===e)continue;let o=p5.Vector.dist(e.p,t[i].p);n.push({button:t[i],distance:o})}n.sort((e,t)=>e.distance-t.distance),e.neighbors=n.slice(0,3).map(e=>e.button)}(i[e],i,3);for(let t=0;t<i.length;t++)!function(t){for(let i of t.neighbors){let n=p5.Vector.dist(t.p,i.p),o=(t.p.x+i.p.x)/2,l=(t.p.y+i.p.y)/2,s=e.map(n,0,.5*e.width,150,30);e.stroke(74,144,230,s),e.strokeWeight(1),e.line(t.p.x,t.p.y,i.p.x,i.p.y);let r=(75e-5*e.millis()+.01*t.p.x)%1,h=e.lerp(t.p.x,i.p.x,r),a=e.lerp(t.p.y,i.p.y,r);e.fill(74,144,230,200),e.noStroke(),e.circle(h,a,4),n>100&&(e.stroke(74,144,230,.8*s),e.strokeWeight(1),e.noFill(),e.push(),e.translate(o,l),e.rotate(e.PI/4),e.square(0,0,6),e.pop(),e.line(o-2,l,o+2,l),e.line(o,l-2,o,l+2))}}(i[t]);for(let n=0;n<i.length;n++){let o=i[n];if(m<480){var t;let l=e.createVector(e.width/2,e.height/2).sub(o.p);l.setMag(.01*(480-m)/480),f(o,l);for(let e=0;e<i.length;e++){if(n===e)continue;let t=i[e],l=p5.Vector.sub(t.p,o.p),s=l.mag(),r=o.radius+t.radius;if(!(s<.1))if(s<r){let e=r-s;f(o,l.copy().normalize().mult(-.01*e*(480-m)/480))}else f(o,l.copy().normalize().mult(.01*(480-m)/480))}(t=o).vel.add(t.acc),t.vel.mult(.94),t.p.add(t.vel),t.acc.mult(0),t.p.x=e.constrain(t.p.x,t.radius,e.width-t.radius),t.p.y=e.constrain(t.p.y,t.radius,e.height-t.radius)}let l=o.contains(e.mouseX,e.mouseY);o.targetHoverAlpha=+!!l,o.render()}if(p){let t=e.millis()-u,i=e.constrain(t/300,0,1);c=e.lerp(c,g,i),i>=1&&(p=!1,c=g,0===g&&(r=null,h=null,x()))}(0,l.updateCursor)(e,e.mouseX,e.mouseY,...i,(t,i)=>{if(null!==r){let n=(0,l.widthCheck)(e.width),o=n?.95*e.width:.9*e.width,s=n?.82*e.height:.85*e.height,r=(e.width-o)/2,h=(e.height-s)/2,a=n?44:30,d=n?(e.width-a)/2:r+o-a+5,c=n?h+s+15:h-a-5;return t>=d&&t<=d+a&&i>=c&&i<=c+a}return!1}),e.push(),function(){let t=o?5:20,i=o?18:28;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(i),e.text("WEB EXPERIENCES",e.width/2,t);let n=e.textWidth("WEB EXPERIENCES");e.stroke(74,144,230,120),e.strokeWeight(1),e.line(e.width/2-n/2-20,t+i+8,e.width/2+n/2+20,t+i+8)}(),function(){let t=o?10:40,i=o?20:30;e.stroke(74,144,230,80),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,n],o)=>{let l=0===o||3===o?1:-1,s=0===o||1===o?1:-1;e.line(t,n,t+l*i,n),e.line(t,n,t,n+s*i);let r=.3*i;e.line(t+l*r,n+s*r,t+l*(r+5),n+s*(r+5))});let n=o?4:6,l=o?4:6;for(let o=1;o<n;o++){let s=e.lerp(t+i,e.width-t-i,o/n);e.line(s-l/2,t,s+l/2,t),e.line(s,t-l/2,s,t+l/2),e.line(s-l/2,e.height-t,s+l/2,e.height-t),e.line(s,e.height-t-l/2,s,e.height-t+l/2)}for(let o=1;o<n;o++){let s=e.lerp(t+i,e.height-t-i,o/n);e.line(t-l/2,s,t+l/2,s),e.line(t,s-l/2,t,s+l/2),e.line(e.width-t-l/2,s,e.width-t+l/2,s),e.line(e.width-t,s-l/2,e.width-t,s+l/2)}e.fill(74,144,230,64),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textSize(o?8:11);let r=o?10:13;e.text("NET: ONLINE",t+.5*i,t+ +r),e.text("SOL: "+s.toString(),t+.5*i,t+2*r),e.text("PKT: "+a.projects.length,t+.5*i,t+3*r),e.text("SYN: ACTIVE",t+.5*i,t+4*r)}(),e.pop(),(null!==r||c>0)&&function(t){if(!t)return;e.push(),e.rectMode(e.CORNER);let i=(0,l.widthCheck)(e.width),n=i?.95*e.width:.9*e.width,o=i?.82*e.height:.85*e.height,s=(e.width-n)/2,r=(e.height-o)/2;e.fill(0,0,0,c/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let h=i?44:30;var a=i?(e.width-h)/2:s+n-h+5,u=i?r+o+15:r-h-5,p=h,g=c;let m=.25*p;e.push(),e.rectMode(e.CORNER),e.fill(50,50,50,g/255*200),e.stroke(74,144,230,g),e.strokeWeight(1),e.rect(a,u,p,p),e.stroke(74,144,230,g),e.strokeWeight(2),e.line(a+m,u+m,a+p-m,u+p-m),e.line(a+p-m,u+m,a+m,u+p-m),e.pop(),function(t,i,n,o,l){if("external"===t.type){var s=t,r=i,h=n,a=o,u=l;let d=s.url;E&&E.src!==d&&(E.remove(),E=null),E||((E=document.createElement("iframe")).src=d,E.style.border="2px solid #4A90E6",E.style.borderRadius="0px",E.style.backgroundColor="#000",E.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.5)",E.allow="microphone; camera; autoplay; encrypted-media; fullscreen; geolocation; gyroscope; accelerometer; magnetometer; midi",document.body.appendChild(E));let p=e.canvas.getBoundingClientRect(),g=c;E.style.position="fixed",E.style.left=p.left+r+"px",E.style.top=p.top+h+"px",E.style.width=a+"px",E.style.height=u+"px",E.style.zIndex="1000",E.style.opacity=g/255,E.style.display=g>0?"block":"none";return}let p=d.localSketches[t.slug];if(!p)return console.warn(`No local sketch found for slug: ${t.slug}`);v||((v=document.createElement("div")).style.position="fixed",v.style.border="2px solid #4A90E6",v.style.borderRadius="0px",v.style.backgroundColor="#000",v.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.5)",v.style.zIndex="1000",v.style.overflow="hidden",document.body.appendChild(v),y=new p5(p,v));let g=e.canvas.getBoundingClientRect(),m=c;v.style.left=g.left+i+"px",v.style.top=g.top+n+"px",v.style.width=o+"px",v.style.height=l+"px",v.style.opacity=m/255,v.style.display=m>0?"block":"none"}(t,s+0,r+0,n-0,i?o-10:o-0),e.pop()}(h||a.projects[r])};let w=null;function f(e,t){e.acc.add(t)}e.windowResized=function(){w&&clearTimeout(w),w=setTimeout(()=>{let t=(0,l.getViewportSize)();for(let n of(e.resizeCanvas(t.width,t.height),o=(0,l.widthCheck)(t.width),m=0,i))n.p.x=e.constrain(n.p.x,n.radius,e.width-n.radius),n.p.y=e.constrain(n.p.y,n.radius,e.height-n.radius);w=null},150)},e.mousePressed=function(t){if((!t||0===t.button)&&!window.helpPopupOpen&&!window.contactPopupOpen){if(null!==r){let t=(0,l.widthCheck)(e.width),i=t?.95*e.width:.9*e.width,o=t?.82*e.height:.85*e.height,s=(e.width-i)/2,r=(e.height-o)/2,h=t?44:30,a=t?(e.width-h)/2:s+i-h+5,d=t?r+o+15:r-h-5;return e.mouseX>=a&&e.mouseX<=a+h&&e.mouseY>=d&&e.mouseY<=d+h||(t?e.mouseX<s||e.mouseX>s+i||e.mouseY<r||e.mouseY>r+o+60:e.mouseX<s||e.mouseX>s+i||e.mouseY<r||e.mouseY>r+o)?void function(){g=0,u=e.millis(),p=!0;let t=document.querySelector('meta[name="theme-color"]');t&&(t.content="#171717"),E&&(E.src="about:blank",E.style.display="none"),e.preventEverything&&(window.removeEventListener("touchmove",e.preventEverything,{capture:!0}),window.removeEventListener("touchstart",e.preventEverything,{capture:!0}),window.removeEventListener("scroll",e.preventEverything,{capture:!0}),document.removeEventListener("touchmove",e.preventEverything,{capture:!0}),document.removeEventListener("touchstart",e.preventEverything,{capture:!0}),document.removeEventListener("scroll",e.preventEverything,{capture:!0}),e.preventEverything=null);let i=document.documentElement,o=document.body;if(i.style.overflow="",i.style.position="",i.style.width="",i.style.height="",i.style.touchAction="",i.style.overscrollBehavior="",o.style.overflow="",o.style.position="",o.style.width="",o.style.height="",o.style.touchAction="",o.style.overscrollBehavior="",o.style.top="",o.style.left="",void 0!==e.savedScrollTop&&window.scrollTo(e.savedScrollLeft||0,e.savedScrollTop||0),screen.orientation&&screen.orientation.unlock)try{screen.orientation.unlock()}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="block")}let s=document.getElementById("help-container"),r=document.getElementById("contact-container");s&&(s.style.display="block"),r&&(r.style.display="block"),window.location.hash.includes("/interactive/web/")&&"#/interactive/web"!==window.location.hash&&window.history.pushState(null,"","#/interactive/web"),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e("/interactive/web")})}():void 0}null!==r||p||i.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY))return void function(t){r=t,h=a.projects[t],g=255,u=e.millis(),p=!0;let i=document.querySelector('meta[name="theme-color"]');i&&(i.content="#000000");let o=document.documentElement,s=document.body;e.savedScrollTop=window.pageYOffset||o.scrollTop||s.scrollTop||0,e.savedScrollLeft=window.pageXOffset||o.scrollLeft||s.scrollLeft||0,o.style.overflow="hidden",o.style.position="fixed",o.style.width="100%",o.style.height="100%",o.style.touchAction="none",o.style.overscrollBehavior="none",s.style.overflow="hidden",s.style.position="fixed",s.style.width="100%",s.style.height="100%",s.style.touchAction="none",s.style.overscrollBehavior="none",s.style.top=`-${e.savedScrollTop}px`,s.style.left=`-${e.savedScrollLeft}px`;let d=e=>"IFRAME"===e.target.tagName||(e.preventDefault(),e.stopImmediatePropagation(),!1);if(window.addEventListener("touchmove",d,{passive:!1,capture:!0}),window.addEventListener("touchstart",d,{passive:!1,capture:!0}),window.addEventListener("scroll",d,{passive:!1,capture:!0}),document.addEventListener("touchmove",d,{passive:!1,capture:!0}),document.addEventListener("touchstart",d,{passive:!1,capture:!0}),document.addEventListener("scroll",d,{passive:!1,capture:!0}),e.preventEverything=d,screen.orientation&&screen.orientation.lock)try{screen.orientation.lock("portrait-primary").catch(()=>{})}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="none")}let c=document.getElementById("help-container"),m=document.getElementById("contact-container");c&&(c.style.display="none"),m&&(m.style.display="none");let w=a.projects[t];w&&w.slug&&Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e(`/interactive/web/${w.slug}`)})}(i)})}};let y=null,v=null;function x(){y&&("function"==typeof y.cleanupSketch&&y.cleanupSketch(),y.remove(),y=null),v&&(v.remove(),v=null),E&&(E.src="about:blank",E.remove(),E=null)}let E=null;e.cleanupSketch=function(){x();let t=document.querySelector('meta[name="theme-color"]');t&&(t.content="#171717"),document.body.style.overscrollBehavior="",document.body.style.overflow="",document.body.style.touchAction="",e.preventEverything&&(window.removeEventListener("touchmove",e.preventEverything,{capture:!0}),window.removeEventListener("touchstart",e.preventEverything,{capture:!0}),window.removeEventListener("scroll",e.preventEverything,{capture:!0}),document.removeEventListener("touchmove",e.preventEverything,{capture:!0}),document.removeEventListener("touchstart",e.preventEverything,{capture:!0}),document.removeEventListener("scroll",e.preventEverything,{capture:!0}),e.preventEverything=null);let i=document.documentElement,n=document.body;if(i.style.overflow="",i.style.position="",i.style.width="",i.style.height="",i.style.touchAction="",i.style.overscrollBehavior="",n.style.overflow="",n.style.position="",n.style.width="",n.style.height="",n.style.touchAction="",n.style.overscrollBehavior="",n.style.top="",n.style.left="",r=null,h=null,c=0,(0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="block")}}};var l=n("baa6D");const u=[{id:"github",title:"GitHub",url:"https://github.com/BL451",icon:"CODE",description:"Code"},{id:"linkedin",title:"LinkedIn",url:"https://www.linkedin.com/in/benjamin-lappalainen-888006149/",icon:"PROF",description:"Corporate Facebook"},{id:"instagram",title:"Instagram",url:"https://instagram.com/blapcode",icon:"META",description:"Necessary evil"},{id:"ukai",title:"UKAI Projects",url:"https://ukaiprojects.com",icon:"GOAT",description:"Culture for what's coming"},{id:"ctl",title:"Cultural Tech Lab",url:"https://www.culturaltechnologieslab.org/",icon:"CTL",description:"R&D"},{id:"blog",title:"Substack",url:"https://blap64.substack.com/",icon:"BLOG",description:"Writing"},{id:"contact",title:"Contact & Services",url:"contact-popup",icon:"MESG",description:"Get in touch!"}],p=function(e,t={}){let i,n,o,s=!1,r=[],h=0,a=0,d={x:0,y:0},c=!1,p=80;function m(){r=[],i=s?90:120,n=s?80:60,o=s?8:20;let t=s?e.width-80:Math.min(400,e.width-80),l=(e.width-t)/2,h=e.height-i-n,a=(u.length-1)*o;p=s?Math.max(60,Math.min(Math.floor((h-a)/u.length),80)):80;let d=[[255,100,130],[255,180,50],[255,255,100],[100,255,150],[50,255,255],[74,144,230],[180,100,255]];u.forEach((n,s)=>{let h=i+s*(p+o),a=d[s%d.length];r.push(new g(e,l,h,t,p,n,a))})}e.setup=async function(){let t=(0,l.getViewportSize)();e.createCanvas(t.width,t.height),s=(0,l.widthCheck)(t.width),e.background(23),e.strokeCap(e.PROJECT),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),m()},e.draw=function(){e.background(23),h=e.lerp(h,a,.1),e.push(),function(){let t=s?20:40,i=s?24:36;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(i),e.text("MY LINKS",e.width/2,t);let n=e.textWidth("MY LINKS");e.stroke(74,144,230,120),e.strokeWeight(1),e.line(e.width/2-n/2-20,t+i+8,e.width/2+n/2+20,t+i+8)}(),function(){let t=s?15:30,i=s?15:25;e.stroke(74,144,230,60),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,n],o)=>{e.line(t,n,t+(0===o||3===o?1:-1)*i,n),e.line(t,n,t,n+(0===o||1===o?1:-1)*i)}),e.fill(74,144,230,48),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textSize(s?8:10);let n=s?12:15;e.text("SYS: ONLINE",t+.5*i,t+n),e.text("CONN: "+u.length,t+.5*i,t+2*n),e.text("PROTO: HTTPS",t+.5*i,t+3*n)}(),e.pop(),e.push(),e.translate(0,h),r.forEach(t=>{t.y+h>-p&&t.y+h<e.height+p&&t.render()}),e.pop(),(0,l.updateCursor)(e,e.mouseX,e.mouseY,...r.map(e=>({contains:(t,i)=>e.contains(t,i)})))},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),s=(0,l.widthCheck)(t.width),m()},e.mousePressed=function(t){t&&0!==t.button||(d.x=e.mouseX,d.y=e.mouseY,c=!1)},e.mouseDragged=function(){e.dist(e.mouseX,e.mouseY,d.x,d.y)>5&&(c=!0)},e.mouseReleased=function(t){var i,n;t&&0!==t.button||(c||(i=e.mouseX,n=e.mouseY,window.helpPopupOpen||window.contactPopupOpen||(console.log("Click detected at:",i,n,"scrollOffset:",h),r.forEach((e,t)=>{let o=n-h,l=e.contains(i,o);if(console.log(`Button ${t} (${e.link.title}):`,{buttonBounds:{x:e.x,y:e.y,width:e.width,height:e.height},clickPoint:{x:i,y:o},contains:l}),l)if(console.log("Opening link:",e.link.url),"contact-popup"===e.link.url){let e=document.querySelector(".contact-button");e&&e.click()}else window.location.href=e.link.url}))),c=!1)},e.mouseWheel=function(t){if(window.helpPopupOpen||window.contactPopupOpen)return!0;let l=Math.max(0,i+u.length*p+(u.length-1)*o+n-e.height);return l>0&&(a=e.constrain(a+.5*t.delta,-l,0)),!1}};class g{constructor(e,t,i,n,o,l,s=[74,144,230]){this.p5=e,this.x=t,this.y=i,this.width=n,this.height=o,this.link=l,this.color=s,this.hoverAlpha=0,this.targetHoverAlpha=0}contains(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height}render(){let e=this.contains(this.p5.mouseX,this.p5.mouseY);this.targetHoverAlpha=+!!e,this.hoverAlpha=this.p5.lerp(this.hoverAlpha,this.targetHoverAlpha,.1);let t=80+100*this.hoverAlpha,i=40*this.hoverAlpha;this.p5.push(),this.p5.stroke(this.color[0],this.color[1],this.color[2],t),this.p5.strokeWeight(1),this.p5.fill(23,23,23,50+i),this.p5.rect(this.x,this.y,this.width,this.height);let n=Math.min(50,this.height-20),o=this.x+15,l=this.y+(this.height-n)/2;this.p5.stroke(this.color[0],this.color[1],this.color[2],t),this.p5.fill(23,23,23,30+i),this.p5.rect(o,l,n,n),this.p5.stroke(this.color[0],this.color[1],this.color[2],1.2*t),this.p5.strokeWeight(2),this.p5.noFill(),this.p5.line(o,l,o+8,l),this.p5.line(o,l,o,l+8),this.p5.line(o+n,l,o+n-8,l),this.p5.line(o+n,l,o+n,l+8),this.p5.line(o,l+n,o+8,l+n),this.p5.line(o,l+n,o,l+n-8),this.p5.line(o+n,l+n,o+n-8,l+n),this.p5.line(o+n,l+n,o+n,l+n-8),this.p5.fill(this.color[0],this.color[1],this.color[2],1.5*t),this.p5.noStroke(),this.p5.textAlign(this.p5.CENTER,this.p5.CENTER),this.p5.textSize(Math.min(12,.25*n)),this.p5.text(this.link.icon,o+n/2+1,l+n/2);let s=o+n+15;if(this.height<50){let e=this.y+this.height/2;this.p5.fill(255,2*t),this.p5.textAlign(this.p5.LEFT,this.p5.CENTER),this.p5.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),this.p5.textSize(16),this.p5.text(this.link.title,s,e)}else{let e=this.y+this.height/2-8;this.p5.fill(255,2*t),this.p5.textAlign(this.p5.LEFT,this.p5.CENTER),this.p5.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),this.p5.textSize(18),this.p5.text(this.link.title,s,e),this.p5.fill(150,1.5*t),this.p5.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),this.p5.textSize(13),this.p5.text(this.link.description,s,e+18)}if(this.hoverAlpha>.1){this.p5.stroke(74,144,230,60*this.hoverAlpha),this.p5.strokeWeight(1);let e=this.y+.1*this.p5.millis()%this.height;this.p5.line(this.x,e,this.x+this.width,e)}if(this.hoverAlpha>.2){this.p5.fill(74,144,230,150*this.hoverAlpha),this.p5.noStroke();let e=this.x+this.width-30,t=this.y+15;for(let i=0;i<3;i++)this.p5.circle(e+8*i,t,3)}this.p5.pop()}}var l=n("baa6D"),m=n("JTwtx");const w=function(e,t={}){let i=128,o=0,s=0,r=e.createVector(o,s),h=!1,a=[],d=null,c=0,u=0,p=!1,g=0,w=0,f=0,y=!1,v=0,x=0,E=0,k=0,S=new Map,b=null,T=0,C=!1,I=0,A=0,P=null,R=null,O=!1,L=0,F=0,B=0,V=new Map,W=new Set,z=null,N=null;function Y(){let t=(0,l.widthCheck)(e.width),i=t?.95*e.width:.82*e.width,n=t?.88*e.height:.82*e.height,o=(e.width-i)/2,s=t?(e.height-n)/2-40:(e.height-n)/2-20;return{width:i,height:n,x:o,y:s,isMobile:t}}function X(){let t=(0,l.getViewportSize)();i=e.min(t.width,t.height),h=(0,l.widthCheck)(t.width),function(){a=[],V.clear();let t=h?25:40,i=h?14:18;e.textSize(i),m.projects.forEach((n,o)=>{let l=n.name.split(" "),s=[],r="";for(let e of l)(r+e).length>16&&r.length>0?(s.push(r.trim()),r=e+" "):r+=e+" ";r.length>0&&s.push(r.trim());let h=1.2*i,a=s.length*h,d=0;s.forEach(t=>{let i=e.textWidth(t);i>d&&(d=i)}),V.set(n.name,{lines:s,totalHeight:a,maxWidth:d,textOffsetX:t,textSize:i,lineHeight:h})}),window.textCache=V;let n=m.projects.length,o=h?20:25,s=h?14:18,r=e.height/5,d=e.width/2;for(let t=0;t<n;t++){let i=e.height-.25*(t+1)*r-.05*r,n=.25*(t+1)*r,c=-.75*e.PI+.09*t,u=(0,l.radialToCartesian)(n,c,e),p=e.createVector(u.x+d,-u.y+i),g=p.x,w=p.y,f=h?25:40,y=new(0,l.UIPlanetButton)(e,g,w,o,0,e.random(e.TWO_PI),0,[222,200],m.projects[t].name,s,f,0);y.hoverAlpha=0,y.targetHoverAlpha=0,a.push(y)}}(),O=!0,h&&(B=0,F=0)}function M(t){if(d=t,g=255,u=e.millis(),p=!0,w=0,f=0,y=!1,G(m.projects[t]),document.body.style.overscrollBehavior="none",document.body.style.touchAction="none",screen.orientation&&screen.orientation.lock)try{screen.orientation.lock("portrait-primary").catch(()=>{})}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="none")}let i=document.getElementById("help-container"),o=document.getElementById("contact-container");i&&(i.style.display="none"),o&&(o.style.display="none");let s=document.querySelector('meta[name="theme-color"]');s&&(s.content="#000000");let r=m.projects[t];r&&r.slug&&Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e(`/interactive/live/${r.slug}`)})}function j(e){d=e,w=0,f=0,y=!1,G(m.projects[e]);let t=m.projects[e];if(t&&t.slug){let e=`/interactive/live/${t.slug}`;window.location.hash!==`#${e}`&&(window.history.pushState(null,"",`#${e}`),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}))}}function D(){if(g=0,u=e.millis(),p=!0,w=0,f=0,y=!1,null!==b&&J(),document.body.style.overscrollBehavior="",document.body.style.touchAction="",screen.orientation&&screen.orientation.unlock)try{screen.orientation.unlock()}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="block")}let t=document.getElementById("help-container"),i=document.getElementById("contact-container");t&&(t.style.display="block"),i&&(i.style.display="block");let o=document.querySelector('meta[name="theme-color"]');o&&(o.content="#171717"),window.location.hash.includes("/interactive/live/")&&"#/interactive/live"!==window.location.hash&&window.history.pushState(null,"","#/interactive/live"),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:e})=>{e("/interactive/live")}),sessionStorage.removeItem("installationsActiveProject")}function H(){return(t,i)=>{if(null!==b){let n=(0,l.widthCheck)(e.width),o=n?50:40,s=(e.width-o)/2,r=m.projects[d];if(r&&r.images&&b<r.images.length){let l,h=r.images[b],a="string"==typeof h?h:h&&"object"==typeof h?h.default||h.src||h.href||h.toString():String(h),d=a.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),c=n?e.width:.8*e.width,u=.8*e.height;if(d){let e=P&&P.videoWidth&&P.videoHeight?P.videoWidth/P.videoHeight:16/9;l=e>c/u?c/e:u}else{let e=S.get(a);if(e&&e.loaded&&e.element){let t=e.element.width/e.element.height;l=t>c/u?c/t:u}else l=u}let p=(e.height-l)/2+l+(n?20:15);return t>=s&&t<=s+o&&i>=p&&i<=p+o}}if(null!==d){let{width:e,height:n,x:o,y:l,isMobile:s}=Y(),r=s?44:30,h=o+e-r-10,a=l+10;return t>=h&&t<=h+r&&i>=a&&i<=a+r}return!1}}function q(e,t,i,n){let o=V.get(n);if(!o)return!1;let l={x:e.p.x+o.textOffsetX,y:e.p.y-o.totalHeight/2,width:o.maxWidth,height:o.totalHeight};return t>=l.x&&t<=l.x+l.width&&i>=l.y&&i<=l.y+l.height}function U(t,i){if(i&&i.images&&i.images.length>0){let n=i.images[0],o=(0,l.getMediaPath)(n);(0,l.isVideoFile)(o)?i.thumbnails&&i.thumbnails[n]&&e.loadImage(i.thumbnails[n],e=>{t.previewMedia=e},e=>{console.warn("Failed to load thumbnail for preview:",e)}):e.loadImage(o,e=>{t.previewMedia=e},e=>{console.warn("Failed to load image for preview:",e)})}}function _(t,i,n,o,l,s){e.fill(23,23,23,l/255*200),e.stroke(230,l),e.strokeWeight(2),e.rect(t,i,n,n),e.fill(230,l),e.noStroke();let r=t+n/2,h=i+n/2,a=.3*n,d=.4*n;"left"===o?e.triangle(r-a/2,h,r+a/2,h-d/2,r+a/2,h+d/2):e.triangle(r+a/2,h,r-a/2,h-d/2,r-a/2,h+d/2)}function j(e,t=!1){if(e>=0&&e<m.projects.length&&e!==d){d=e,w=0,f=0,null!==b&&J(),G(m.projects[e]);let i=m.projects[e];if(i&&i.slug){let e=`/interactive/live/${i.slug}`;t||window.history.replaceState(null,"",`#${e}`),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}),sessionStorage.setItem("installationsActiveProject",i.slug)}}}e.cleanupSketch=function(){P&&(P.pause(),P.removeAttribute("src"),P.blur(),P.remove(),P=null),document.fullscreenElement&&document.exitFullscreen().catch(()=>{}),S.forEach((e,t)=>{"video"===e.type&&e.element&&(e.element.pause&&e.element.pause(),e.element.remove&&e.element.remove())}),S.clear(),d=null,b=null,c=0,T=0;let e=document.querySelector('meta[name="theme-color"]');e&&(e.content="#171717"),document.body.style.overscrollBehavior="",document.body.style.touchAction="",N&&(window.removeEventListener("hashchange",N),N=null)},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let i=(0,l.getViewportSize)();e.createCanvas(i.width,i.height),X(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let n=document.getElementById("bg").shadowRoot.getElementById("p5_loading");n&&n.remove(),t&&t.project?(R=t.project,t.project,sessionStorage.setItem("installationsActiveProject",t.project)):sessionStorage.getItem("installationsActiveProject")&&(sessionStorage.removeItem("installationsActiveProject"),R=null,d=null,c=0,g=0,p=!1),N=function(e){let t=window.location.hash.substr(1);"/interactive/live"===(t&&""!==t?t.startsWith("/")?t:"/"+t:"/")&&null!==d&&D()},L=(0,l.daysSince)("2024-08-14"),window.addEventListener("hashchange",N),o=e.width/2,s=.94*e.height,e.mouseX=o,e.mouseY=s},e.draw=function(){if(e.background(23),h&&a&&a.length>0){0===B&&(B=e.millis());let t=Math.floor((e.millis()-B)/2e3%a.length);t!==F&&t<a.length&&(F=t);let i=a[F];i&&(o=e.constrain((0,l.smoothFollow)(i.p.x,o,.005*e.deltaTime),0,e.width),s=e.constrain((0,l.smoothFollow)(i.p.y,s,.005*e.deltaTime),0,e.height))}else o=(0,l.smoothFollow)(e.mouseX,o,.003*e.deltaTime),s=(0,l.smoothFollow)(e.mouseY,s,.003*e.deltaTime);if(r.x=o,r.y=s,e.noFill(),e.stroke(230),e.strokeWeight(1),function(){let t=e.height/5,n=e.width/2;e.push(),e.stroke(222,64),e.strokeWeight(1),e.noFill();for(let i=1;i<=a.length;i++){let o=e.height-.25*i*t-.05*t,l=.25*i*t;e.circle(n,o,2*l)}e.pop(),a.forEach((t,n)=>{var l,r;let a=m.projects[n];if(!a)return;t.angle-=.01*e.noise(n);let d=h?o:e.mouseX,c=h?s:e.mouseY,u=t.contains(d,c),p=q(t,d,c,a.name),g=u||p;t.targetHoverAlpha=+!!g,t.hoverAlpha=e.lerp(t.hoverAlpha,t.targetHoverAlpha,g?.1:.01);let w=e.lerp(200,0,t.hoverAlpha),f=e.createVector(t.p.x+w,t.p.y);if(t.render(f,i),g&&a.images&&a.images.length>0&&(t.previewMedia||(l=t,(r=a)&&r.previewThumbnail?e.loadImage(r.previewThumbnail,e=>{l.previewMedia=e},e=>{console.warn("Failed to load preview thumbnail:",e),U(l,r)}):U(l,r)),t.previewMedia&&t.previewAlpha>.01)){let i=h?70:160,n=t.p.x-i-30,o=t.p.y-i/2;e.push(),e.tint(255,178.5*t.previewAlpha);let l=t.previewMedia.width,s=t.previewMedia.height,r=Math.min(l,s),a=(l-r)/2,d=(s-r)/2;e.image(t.previewMedia,n,o,i,i,a,d,r,r),e.noTint();let c=h?8:12,u=150*t.previewAlpha;e.stroke(255,u),e.strokeWeight(1),e.noFill(),[[n,o],[n+i,o],[n+i,o+i],[n,o+i]].forEach(([t,i],n)=>{e.line(t,i,t+(0===n||3===n?1:-1)*c,i),e.line(t,i,t,i+(0===n||1===n?1:-1)*c)}),e.pop()}g?t.previewAlpha=e.lerp(t.previewAlpha||0,1,.1):t.previewAlpha=e.lerp(t.previewAlpha||0,0,.15)})}(),e.push(),function(){let t=h?5:20,i=h?18:28;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(i),e.text("LIVE EXPERIENCES",e.width/2,t);let n=e.textWidth("LIVE EXPERIENCES");e.stroke(255,120),e.strokeWeight(1),e.line(e.width/2-n/2-20,t+i+8,e.width/2+n/2+20,t+i+8)}(),function(){let t=h?10:40,i=h?20:30;e.stroke(255,100),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,n],o)=>{e.line(t,n,t+(0===o||3===o?1:-1)*i,n),e.line(t,n,t,n+(0===o||1===o?1:-1)*i)});let n=h?3:5;for(let o=1;o<n;o++){let l=e.lerp(t+i,e.width-t-i,o/n);e.line(l,t,l,t+6),e.line(l,e.height-t,l,e.height-t-6)}for(let o=1;o<n;o++){let l=e.lerp(t+i,e.height-t-i,o/n);e.line(t,l,t+6,l),e.line(e.width-t,l,e.width-t-6,l)}e.fill(255,60),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textSize(h?8:11);let o=h?10:13;e.text("SYS: CAUTION",t+.5*i,t+ +o),e.text("SOL: "+L.toString(),t+.5*i,t+2*o),e.text("SIG: -27dBm",t+.5*i,t+3*o),e.text("RCS: ON",t+.5*i,t+4*o)}(),e.pop(),R&&O&&a&&a.length>0){let e=(0,m.getProjectIndexBySlug)(R);-1!==e&&e<a.length&&M(e),R=null}e.noFill(),e.stroke(230,50);let t=.03*i;if(e.push(),e.translate(o,s),e.rotate(e.TWO_PI*e.noise(o/i,s/i,1e-4*e.millis())),e.circle(0,0,.33*t),e.triangle(t,0,t*e.cos(e.TWO_PI/3),t*e.sin(e.TWO_PI/3),t*e.cos(2*e.TWO_PI/3),t*e.sin(2*e.TWO_PI/3)),e.pop(),p){let t=e.millis()-u,i=e.constrain(t/300,0,1);c=e.lerp(c,g,i),i>=1&&(p=!1,c=g,0===g&&(d=null))}if(y||(w=e.lerp(w,f,.1)),C){let t=e.millis()-I,i=e.constrain(t/300,0,1);T=e.lerp(T,A,i),i>=1&&(C=!1,T=A,0===A&&(b=null,P&&(P.pause(),P.removeAttribute("src"),P.remove(),P=null)))}let n=null!==d?[H(),(e,t)=>{if(null!==d&&m.projects.length>1){let{width:i,height:n,x:o,y:l,isMobile:s}=Y(),r=s?50:40,h=s?20:15,a=l+n+h,d=o+(i-(2*r+80+2*h))/2,c=d+r+80+2*h;if(e>=d&&e<=d+r&&t>=a&&t<=a+r||e>=c&&e<=c+r&&t>=a&&t<=a+r)return!0}return!1}]:[...a,(e,t)=>{for(let i=0;i<a.length;i++){let n=a[i],o=m.projects[i];if(o&&q(n,e,t,o.name))return!0}return!1},H()];(0,l.updateCursor)(e,e.mouseX,e.mouseY,...n),(null!==d||c>0)&&function(t){let{width:i,height:n,x:o,y:s,isMobile:r}=Y();e.fill(0,0,0,c/255*120),e.noStroke(),e.rect(0,0,e.width,e.height),e.fill(23,23,23,c/255*240),e.stroke(230,c),e.strokeWeight(2),e.rect(o,s,i,n);let h=r?44:30;var a=o+i-h-10,u=s+10,p=c;let g=.25*h;e.fill(50,50,50,p/255*200),e.stroke(200,p),e.strokeWeight(1),e.rect(a,u,h,h),e.stroke(200,p),e.strokeWeight(2),e.line(a+g,u+g,a+h-g,u+h-g),e.line(a+h-g,u+g,a+g,u+h-g),e.fill(230,c),e.noStroke(),e.textAlign(e.LEFT,e.TOP);let y=r?20:24,v=r?20:32,x=s+y;e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let b=r?22:32;e.textSize(b);let T=i-2*y-h,C=Math.ceil(e.textWidth(t.name)/T);e.text(t.name,o+y,x,T),x+=C*b*1.2+(r?8:16),e.textSize(r?12:18),e.text(t.type,o+y,x,i-2*y),x+=r?14:v;let I=`${t.year} - ${t.location}`;if(e.text(I,o+y,x,i-2*y),x+=r?18:1.5*v,t.images&&t.images.length>0){let s=r?.3*n:.4*n,h=x;E=h,k=s,function(t,i,n,o,s,r){if(!t||0===t.length)return;e.fill(0,0,0,c/255*100),e.stroke(230,.3*c),e.strokeWeight(1),e.rect(i,n,o,s),e.push(),e.drawingContext.save(),e.drawingContext.beginPath(),e.drawingContext.rect(i,n,o,s),e.drawingContext.clip();let h=r?8:10,a=s-2*h,d=1.5*a,u=t.length*(d+h)-h,p=i+h,g=n+h,m=e.max(0,u-o+2*h);if(f=e.constrain(f,-m,0),t.forEach((t,n)=>{let s=(0,l.getMediaPath)(t),u=p+n*(d+h)+w;if(u+d>=i&&u<=i+o){let t=S.get(s);if(t&&!t.loaded&&function(t){let i=S.get(t);!i||i.loaded||W.has(t)||(W.add(t),"video-thumbnail-lazy"===i.type?e.loadImage(i.thumbnailPath,e=>{S.set(t,{element:e,type:"video-thumbnail",videoSrc:t,loaded:!0}),W.delete(t)},e=>{console.error("Failed to load video thumbnail:",i.thumbnailPath,e),S.set(t,{element:null,type:"video-placeholder",videoSrc:t,loaded:!0}),W.delete(t)}):"image-lazy"===i.type&&e.loadImage(i.imagePath,e=>{S.set(t,{element:e,type:"image",loaded:!0}),W.delete(t)},e=>{console.error("Failed to load image:",i.imagePath,e),W.delete(t)}))}(s),t&&t.loaded){e.push(),e.tint(255,c);try{if("image"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:s,sourceHeight:r}=(0,l.calculateCropDimensions)(i.width,i.height,d,a);e.image(i,u,g,d,a,n,o,s,r)}else if("video-thumbnail"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:s,sourceHeight:r}=(0,l.calculateCropDimensions)(i.width,i.height,d,a);e.image(i,u,g,d,a,n,o,s,r)}else if("video"===t.type){let i=t.element;if(i.elt&&(i.elt.readyState>=1||i.elt.videoWidth>0)){let t=i.elt.videoWidth||i.width||1920,n=i.elt.videoHeight||i.height||1080,{sourceX:o,sourceY:s,sourceWidth:r,sourceHeight:h}=(0,l.calculateCropDimensions)(t,n,d,a);e.image(i,u,g,d,a,o,s,r,h)}else e.fill(40,40,40,c/255*200),e.noStroke(),e.rect(u,g,d,a)}else if("video-placeholder"===t.type){e.fill(23,23,23,c/255*240),e.noStroke(),e.rect(u,g,d,a);let t=.15*d,i=u+(d-t)/2,n=g+(a-t)/2;var m=c;e.fill(0,0,0,m/255*120),e.noStroke(),e.circle(i+t/2,n+t/2,t),e.fill(255,255,255,m/255*180);let o=.35*t,l=i+t/2+.1*o,s=n+t/2;e.triangle(l-o/2,s-o/2,l-o/2,s+o/2,l+o/2,s)}}catch(i){console.warn("Error rendering media:",i),e.fill(80,80,80,c/255*150),e.stroke(120,.5*c),e.strokeWeight(1),e.rect(u,g,d,a),e.fill(200,.7*c),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?6:12),e.text("video"===t.type?"Video Error":"Image Error",u+d/2,g+a/2)}e.pop()}else t?"video-thumbnail-lazy"===t.type||"image-lazy"===t.type?(e.fill(60,60,60,c/255*120),e.stroke(110,.4*c),e.strokeWeight(1),e.rect(u,g,d,a),e.fill(180,.6*c),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?6:12),e.text("•••",u+d/2,g+a/2)):(e.fill(50,50,50,c/255*150),e.stroke(100,.5*c),e.strokeWeight(1),e.rect(u,g,d,a),e.fill(150,.7*c),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?8:14),e.text("Loading...",u+d/2,g+a/2)):(e.fill(40,40,40,c/255*100),e.stroke(80,.3*c),e.strokeWeight(1),e.rect(u,g,d,a));e.noFill(),e.stroke(230,.6*c),e.strokeWeight(1),e.rect(u,g,d,a)}}),u>o){let t=.8*c;w<0&&(e.fill(230,t),e.noStroke(),e.triangle(i+5,n+s/2,i+15,n+s/2-5,i+15,n+s/2+5)),w>-m&&(e.fill(230,t),e.noStroke(),e.triangle(i+o-5,n+s/2,i+o-15,n+s/2-5,i+o-15,n+s/2+5))}e.drawingContext.restore(),e.pop()}(t.images,o+y,h,i-2*y,s,r),x+=s+(r?12:v)}if(t.description&&t.description.length>0){e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(r?10:16),e.fill(230,c),e.noStroke();let l=n-(x-s)-(r?10:y);e.text(t.description,o+y,x,i-2*y,l),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"})}m.projects.length>1&&function(t,i,n,o,l){let s=i+o+(l?20:15),r=t+n/2,h=c;_(r-80-17.5,s,35,"left",h,l),_(r+80-17.5,s,35,"right",h,l),e.fill(230,c),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize(16),e.text(`${d+1} / ${m.projects.length}`,r,s+17.5)}(o,s,i,n,r)}(m.projects[d]),(null!==b||T>0)&&function(){let t,i,n;if(null===d||null===b)return;let o=m.projects[d];if(!o.images||b>=o.images.length)return;let s=o.images[b];t="string"==typeof s?s:s&&"object"==typeof s?s.default||s.src||s.href||s.toString():String(s);let r=S.get(t);if(t.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i)||r&&("video-placeholder"===r.type||"video-thumbnail"===r.type))return!function(t){let i,n;if(e.fill(0,0,0,T/255*200),e.noStroke(),e.rect(0,0,e.width,e.height),0===A)return;P&&P.src===t||(P&&(P.pause(),P.removeAttribute("src"),P.blur(),P.remove()),(P=document.createElement("video")).src=t,P.controls=!0,P.preload="metadata",P.setAttribute("playsinline",!0),P.muted=!0,P.disableRemotePlayback=!0,P.addEventListener("dblclick",e=>{e.preventDefault(),e.stopPropagation()}),P.style.position="fixed",P.style.zIndex="1000",P.style.backgroundColor="#000",P.style.borderRadius="8px",document.body.appendChild(P));let o=(0,l.widthCheck)(e.width),s=o?e.width:.8*e.width,r=.8*e.height,h=16/9;P.videoWidth&&P.videoHeight&&(h=P.videoWidth/P.videoHeight),h>s/r?(i=s,n=s/h):(n=r,i=r*h);let a=(e.width-i)/2,d=(e.height-n)/2;P.style.left=a+"px",P.style.top=d+"px",P.style.width=i+"px",P.style.height=n+"px",P.style.opacity=T/255;let c=o?50:40,u=d+n+(o?20:15),p=(e.width-c)/2;e.fill(0,0,0,T/255*150),e.stroke(255,T),e.strokeWeight(2),e.rect(p,u,c,c),e.stroke(255,T),e.strokeWeight(3);let g=.3*c;e.line(p+g,u+g,p+c-g,u+c-g),e.line(p+c-g,u+g,p+g,u+c-g)}(r&&r.videoSrc?r.videoSrc:t);if(!r||!r.loaded)return;e.fill(0,0,0,T/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let h=(0,l.widthCheck)(e.width),a=h?e.width:.8*e.width,c=.8*e.height;if("image"===r.type){let e=r.element,t=e.width/e.height;t>a/c?(i=a,n=a/t):(n=c,i=c*t)}else if("video"===r.type){let e=r.element,t=e.elt.videoWidth||e.width||1920,o=e.elt.videoHeight||e.height||1080;(t<=0||o<=0)&&(t=1920,o=1080);let l=t/o;l>a/c?(i=a,n=a/l):(n=c,i=c*l)}let u=(e.width-i)/2,p=(e.height-n)/2;e.push(),e.tint(255,T),e.image(r.element,u,p,i,n),e.pop();let g=h?50:40,w=p+n+(h?20:15),f=(e.width-g)/2;e.fill(0,0,0,T/255*150),e.stroke(255,T),e.strokeWeight(2),e.rect(f,w,g,g),e.stroke(255,T),e.strokeWeight(3);let y=.3*g;e.line(f+y,w+y,f+g-y,w+g-y),e.line(f+g-y,w+y,f+y,w+g-y)}()},e.windowResized=function(){z&&clearTimeout(z),z=setTimeout(()=>{let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),X(),z=null},150)},e.mousePressed=function(t){if((!t||0===t.button)&&!window.helpPopupOpen&&!window.contactPopupOpen){if(null!==b){let t,i,n,o=m.projects[d].images[b],s=(t="string"==typeof o?o:o&&"object"==typeof o?o.default||o.src||o.href||o.toString():String(o)).toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),r=(0,l.widthCheck)(e.width),h=r?e.width:.8*e.width,a=.8*e.height;if(s){let e=P&&P.videoWidth&&P.videoHeight?P.videoWidth/P.videoHeight:16/9;e>h/a?(i=h,n=h/e):(n=a,i=a*e)}else{let e=S.get(t);if(!e||!e.loaded)return;{let t=e.element,o=t.width/t.height;o>h/a?(i=h,n=h/o):(n=a,i=a*o)}}let c=(e.width-i)/2,u=(e.height-n)/2,p=r?50:40,g=r?20:15,w=(e.width-p)/2,f=u+n+g;if(e.mouseX>=w&&e.mouseX<=w+p&&e.mouseY>=f&&e.mouseY<=f+p)return void J();let y=n+g+p;return e.mouseX<c||e.mouseX>c+i||e.mouseY<u||e.mouseY>u+y?void J():void 0}if(null!==d){let{width:t,height:i,x:n,y:o,isMobile:l}=Y(),s=l?44:30,r=n+t-s-10,h=o+10;if(e.mouseX>=r&&e.mouseX<=r+s&&e.mouseY>=h&&e.mouseY<=h+s)return void D();if(m.projects.length>1){let s=o+i+(l?20:15),r=n+t/2,h=r-80-17.5,a=r+80-17.5;if(e.mouseX>=h&&e.mouseX<=h+35&&e.mouseY>=s&&e.mouseY<=s+35){let e=0===d?m.projects.length-1:d-1;j(e);return}if(e.mouseX>=a&&e.mouseX<=a+35&&e.mouseY>=s&&e.mouseY<=s+35){let e=d===m.projects.length-1?0:d+1;j(e);return}}let a=m.projects[d];if(a.images&&a.images.length>0){let i=l?20:24;if(e.mouseX>=n+i&&e.mouseX<=n+t-i&&e.mouseY>=E&&e.mouseY<=E+k){y=!0,v=e.mouseX,x=w;return}}return e.mouseX<n||e.mouseX>n+t||e.mouseY<o||e.mouseY>o+i?void D():void 0}a.forEach((t,i)=>{let n=m.projects[i],o=t.contains(e.mouseX,e.mouseY),l=q(t,e.mouseX,e.mouseY,n.name);if(o||l){if(M(i),n&&n.slug&&window.appRouter){let e=`/interactive/live/${n.slug}`;window.location.hash!==`#${e}`&&window.history.pushState(null,"",`#${e}`)}return}})}},e.mouseDragged=function(){if(y&&null!==d){let t=e.mouseX-v;f=w=x+t}},e.mouseReleased=function(){if(!window.helpPopupOpen&&!window.contactPopupOpen&&y){let t=Math.abs(e.mouseX-v);if(y=!1,t<5&&null!==d){let t=m.projects[d];if(t&&t.images&&t.images.length>0){let{width:i,x:n,isMobile:o}=Y(),l=o?8:10,s=k-2*l,r=1.5*s,h=n+(o?20:24)+l,a=E+l;for(let i=0;i<t.images.length;i++){let t=h+i*(r+l)+w;if(e.mouseX>=t&&e.mouseX<=t+r&&e.mouseY>=a&&e.mouseY<=a+s)return void(b=i,A=255,I=e.millis(),C=!0)}}}let i=m.projects[d];if(i&&i.images&&i.images.length>0){let{width:t,height:n}=Y(),o=(0,l.widthCheck)(e.width),s=o?8:10,r=i.images.length*(1.5*((o?.3*n:.4*n)-2*s)+s)-s,h=e.max(0,r);f=e.constrain(f,-h,0)}}},e.mouseWheel=function(t){if(window.helpPopupOpen||window.contactPopupOpen)return!0;if(null!==d){let i=m.projects[d];if(i&&i.images&&i.images.length>0){let{width:n,height:o,x:l,y:s,isMobile:r}=Y(),{galleryY:h,padding:a,lineHeight:d}=function(e,t,i,n,o){let l=o?20:24,s=o?28:32;return{galleryY:n+l+5.3*s,galleryHeight:.35*t,padding:l,lineHeight:s}}(0,o,0,s,r),c=r?.3*o:.4*o;if(e.mouseX>=l+a&&e.mouseX<=l+n-a&&e.mouseY>=h&&e.mouseY<=h+c){let n=2*t.delta;f-=n;let o=r?8:10,l=i.images.length*(1.5*(c-2*o)+o)-o,s=e.max(0,l);return f=e.constrain(f,-s,0),!1}}}};let $=new Map;function G(t){var i;t.images&&0!==t.images.length&&(i=t,$.forEach((e,t)=>{t!==i.slug&&(e.forEach(e=>{let t=S.get(e);t&&t.element&&"video"===t.type&&t.element.elt&&t.element.remove(),S.delete(e)}),$.delete(t))}),t.images.forEach((i,n)=>{let o=(0,l.getMediaPath)(i);if(!S.has(o)){let n=(0,l.isVideoFile)(o);if(!(0,l.isDesktopOnly)()&&n)return void(t.thumbnails&&t.thumbnails[i]?S.set(o,{element:null,type:"video-thumbnail-lazy",videoSrc:o,thumbnailPath:t.thumbnails[i],loaded:!1}):S.set(o,{element:null,type:"video-placeholder",videoSrc:o,loaded:!0}));n?function(t){if(!(0,l.isDesktopOnly)())return console.warn("Attempted to load video on mobile/tablet - this should not happen");if(S.has(t)||W.has(t))return;W.add(t),S.set(t,{element:null,type:"video",loaded:!1});let i=e.createVideo(t,()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),W.delete(t))});i.hide(),i.volume(0),i.elt.setAttribute("playsinline",!0),i.elt.setAttribute("muted",!0),i.elt.setAttribute("preload","metadata"),i.loop(),i.elt.addEventListener("canplay",()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),W.delete(t))}),setTimeout(()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),W.delete(t))},3e3)}(o):S.set(o,{element:null,type:"image-lazy",imagePath:o,loaded:!1})}$.has(t.slug)||$.set(t.slug,new Set),$.get(t.slug).add(o)}))}function J(){A=0,I=e.millis(),C=!0,P&&(P.pause(),P.removeAttribute("src"),P.blur(),P.remove(),P=null),document.fullscreenElement&&document.exitFullscreen().catch(()=>{})}};var l=n("baa6D"),f=n("d9MMf");const y=function(e,t={}){let i="collections",o=null,s=!1,r=0,h=0,a=0,d=[],c=!1,u=0,p=0,g=!1,m=0,w=0,y=0,v=!1,x=0,E=0,k=new Map,S=null,b=null,T=null,C=null,I=0;function A(){let t=(0,l.getViewportSize)();e.min(t.width,t.height),s=(0,l.widthCheck)(t.width),"collections"===i&&function(){d=[];let t=s?e.min(.45*e.width,.35*e.height):e.min(.4*e.width,.35*e.height),i=s?15:40,n=2*t+i,o=2*t+i,l=(e.width-n)/2,r=(e.height-o)/2;f.photoCollections.forEach((n,o)=>{let h=Math.floor(o/2),a=l+o%2*(t+i),c=r+h*(t+i),u=n.heroImageThumb||n.heroImage,p=k.has(u)&&k.get(u).loaded;d.push({collection:n,x:a,y:c,width:t,height:t,hoverAlpha:+!!s,targetHoverAlpha:+!!s,heroFadeAlpha:255*!!p,heroFadeTarget:255*!!p,heroFadeStart:p?0:e.millis(),heroImageSrc:u}),L(u)})}()}function P(){d.forEach(t=>{if(F(e.mouseX,e.mouseY,t.x,t.y,t.width,t.height)){let e=`/photo/${t.collection.slug}`;window.appRouter?window.appRouter.navigate(e):(window.history.pushState(null,"",`#${e}`),i="gallery",o=t.collection,A(),Promise.resolve(n("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}))}})}function R(){if(!o)return;let t=o.images[m],i=k.get(t);if(i&&i.loaded){let t,n,l=.9*e.width,s=.8*e.height,r=i.element.width/i.element.height;r>l/s?(t=l,n=l/r):(n=s,t=s*r);let h=(e.width-t)/2,a=(e.height-n)/2;if(o.images.length>1){let t=e.height-70,i=e.width/2-80-17.5;if(F(e.mouseX,e.mouseY,i,t-17.5,35,35)){m=0===m?o.images.length-1:m-1,E=0,v=!0,x=e.millis(),e.loop();return}let n=e.width/2+80-17.5;if(F(e.mouseX,e.mouseY,n,t-17.5,35,35)){m=m===o.images.length-1?0:m+1,E=0,v=!0,x=e.millis(),e.loop();return}}F(e.mouseX,e.mouseY,h,a,t,n)||function(){y=0,x=e.millis(),v=!0,e.loop();let t=document.querySelector(".photo-gallery-container");t&&t.classList.remove("lightbox-hidden"),document.body.classList.remove("lightbox-active");let i=document.getElementById("help-container"),n=document.getElementById("contact-container");i&&(i.style.display="block"),n&&(n.style.display="block");let o=document.querySelector('meta[name="theme-color"]');o&&(o.content="#171717")}()}}function O(t){g=!0,m=t,E=0,y=255,x=e.millis(),v=!0,e.loop();let i=document.querySelector(".photo-gallery-container");i&&i.classList.add("lightbox-hidden"),document.body.classList.add("lightbox-active");let n=document.getElementById("help-container"),o=document.getElementById("contact-container");n&&(n.style.display="none"),o&&(o.style.display="none");let l=document.querySelector('meta[name="theme-color"]');l&&(l.content="#000000")}function L(t){k.has(t)||(k.set(t,{element:null,loaded:!1}),e.loadImage(t,n=>{k.set(t,{element:n,loaded:!0}),"collections"===i&&d.forEach(i=>{i.heroImageSrc===t&&(i.heroFadeTarget=255,i.heroFadeStart=e.millis())}),!1===e._loop&&e.loop()},i=>{console.warn("Failed to load image:",t,i),!1===e._loop&&e.loop()}))}function F(e,t,i,n,o,l){return e>=i&&e<=i+o&&t>=n&&t<=n+l}e.cleanupSketch=function(){k.clear(),S&&(window.removeEventListener("hashchange",S),S=null),C&&(document.removeEventListener("click",C),document.removeEventListener("touchend",C),document.removeEventListener("touchstart",b),document.removeEventListener("touchmove",T)),window.photoSketchInstance===e&&(window.photoSketchInstance=null)},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let n=(0,l.getViewportSize)();e.createCanvas(n.width,n.height),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let s=document.getElementById("bg").shadowRoot.getElementById("p5_loading");s&&s.remove(),t&&t.collection?(i="gallery",(o=(0,f.findCollectionBySlug)(t.collection))||(i="collections")):i="collections",A(),I=(0,l.daysSince)("2011-07-22"),window.photoSketchInstance=e,e.openLightbox=O;let r=null,h=null,a=!1;b=e=>{e.target.classList.contains("photo-gallery-image")&&(r=e.touches[0].clientY,h=Date.now(),a=!1)},T=e=>{e.target.classList.contains("photo-gallery-image")&&null!==r&&Math.abs(e.touches[0].clientY-r)>10&&(a=!0)},document.addEventListener("touchstart",b),document.addEventListener("touchmove",T),C=e=>{if(e.target.classList.contains("photo-gallery-image")){if(g){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();return}if("touchend"===e.type){let e=Date.now()-h;if(a||e>500){r=null,h=null,a=!1;return}}let t=parseInt(e.target.getAttribute("data-lightbox-index"));isNaN(t)||"gallery"!==i||(console.log("Opening lightbox for image",t),O(t)),r=null,h=null,a=!1}},document.addEventListener("click",C),document.addEventListener("touchend",C),S=function(e){let t=window.location.hash.substr(1),n=t&&""!==t?t.startsWith("/")?t:"/"+t:"/";if("/photo"===n&&"gallery"===i)i="collections",o=null,A();else if(n.startsWith("/photo/")&&"collections"===i){let e=n.replace("/photo/",""),t=f.photoCollections.find(t=>t.slug===e);t&&(i="gallery",o=t,A())}},window.addEventListener("hashchange",S),e.loop()},e.draw=function(){let t;if(e.background(23),a++,r=(0,l.smoothFollow)(e.mouseX,r,.003*e.deltaTime),h=(0,l.smoothFollow)(e.mouseY,h,.003*e.deltaTime),"collections"===i&&d.forEach(t=>{var i,n,o,l,r,h;if(s)t.targetHoverAlpha=1,t.hoverAlpha=1;else{let i=F(e.mouseX,e.mouseY,t.x,t.y,t.width,t.height);t.targetHoverAlpha=+!!i,t.hoverAlpha=e.lerp(t.hoverAlpha,t.targetHoverAlpha,i?.15:.08)}let a=k.get(t.heroImageSrc);if(a&&a.loaded){e.push(),e.tint(255,(180+75*t.hoverAlpha)*(t.heroFadeAlpha/255));let i=Math.min(a.element.width,a.element.height),n=(a.element.width-i)/2,o=(a.element.height-i)/2;e.image(a.element,t.x,t.y,t.width,t.height,n,o,i,i),e.pop()}e.fill(30,30,35,150+55*t.hoverAlpha);let d=s?100:100+155*t.hoverAlpha;e.stroke(230,d),e.strokeWeight(2),e.rect(t.x,t.y,t.width,t.height),i=t.x,n=t.y,o=t.width,l=t.height,r=20,h=d,e.stroke(255,h),e.strokeWeight(2),e.noFill(),[[i,n],[i+o,n],[i+o,n+l],[i,n+l]].forEach(([t,i],n)=>{e.line(t,i,t+(0===n||3===n?1:-1)*20,i),e.line(t,i,t,i+(0===n||1===n?1:-1)*r)}),e.fill(230,200+55*t.hoverAlpha),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(s?16:24),e.text(t.collection.name,t.x+t.width/2,t.y+t.height/2-15),e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(s?11:14),e.fill(180,120+135*t.hoverAlpha);let c=t.collection.description.split(" "),u=s?25:35,p=[],g="";for(let e of c)(g+e).length>u&&g.length>0?(p.push(g.trim()),g=e+" "):g+=e+" ";g.length>0&&p.push(g.trim()),e.textAlign(e.CENTER,e.CENTER);let m=s?12:18,w=t.y+t.height/2+20-(p.length-1)*m/2;p.forEach((i,n)=>{e.text(i,t.x+t.width/2,w+n*m)})}),function(){let t=s?10:40,i=s?20:30;e.stroke(255,100),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,n],o)=>{e.line(t,n,t+(0===o||3===o?1:-1)*i,n),e.line(t,n,t,n+(0===o||1===o?1:-1)*i)}),e.fill(255,60),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(s?8:11);let n=s?10:13;e.text("SYS: ACTIVE",t+.5*i,t+ +n),e.text("SOL: "+I.toString(),t+.5*i,t+2*n),e.text("MODE: PHOTO",t+.5*i,t+3*n)}(),v){let t=e.millis()-x,i=e.constrain(t/300,0,1);w=e.lerp(w,y,i),i>=1&&(v=!1,w=y,0===y&&(g=!1))}(function(t){let i=s?20:30,n=s?20:32;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(n),e.text(t,e.width/2,i);let o=e.textWidth(t);e.stroke(255,120),e.strokeWeight(1),e.line(e.width/2-o/2-8,i+n+8,e.width/2+o/2+8,i+n+8)})("collections"===i?"PHOTO":o?o.name:"GALLERY"),(g||w>0)&&function(){if(!o||m>=o.images.length)return;e.fill(0,0,0,w/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let t=o.images[m],i=k.get(t);if(i&&i.loaded){let t,n,o=.9*e.width,l=.8*e.height,s=i.element.width/i.element.height;s>o/l?(t=o,n=o/s):(n=l,t=l*s);let r=(e.width-t)/2,h=(e.height-n)/2;e.push(),e.tint(255,w),e.image(i.element,r,h,t,n),e.pop()}else if(L(t),0===E&&(E=e.millis()),e.millis()-E>1e3){let t=e.width/2,i=e.height/2,n=t-20;e.noStroke();for(let t=0;t<3;t++){let o=(Math.sin((.003*e.millis()+.5*t)%(2*Math.PI))+1)*.5,l=w/255*(100+155*o);e.fill(230,l),e.circle(n+20*t,i,8)}e.fill(230,w/255*120),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize(14),e.text("LOADING",t,i+30)}let n=e.height-70;if(e.fill(230,w),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize(16),e.text(`${m+1} / ${o.images.length}`,e.width/2,n),o.images.length>1){let t=e.width/2-80-17.5;e.fill(23,23,23,w/255*200),e.stroke(230,w),e.strokeWeight(2),e.rect(t,n-17.5,35,35),e.fill(230,w),e.noStroke(),e.triangle(t+10.5,n,t+24.5,n-7,t+24.5,n+7);let i=e.width/2+80-17.5;e.fill(23,23,23,w/255*200),e.stroke(230,w),e.strokeWeight(2),e.rect(i,n-17.5,35,35),e.fill(230,w),e.noStroke(),e.triangle(i+24.5,n,i+10.5,n-7,i+10.5,n+7)}}(),(0,l.updateCursor)(e,e.mouseX,e.mouseY,...function(){let t=[];if("collections"===i)d.forEach(i=>{t.push(()=>F(e.mouseX,e.mouseY,i.x,i.y,i.width,i.height))});else if(g&&o&&o.images.length>1){let i=e.height-70,n=e.width/2-80-17.5;t.push(()=>F(e.mouseX,e.mouseY,n,i-17.5,35,35));let o=e.width/2+80-17.5;t.push(()=>F(e.mouseX,e.mouseY,o,i-17.5,35,35))}return t}());let n=e.mouseX!==u||e.mouseY!==p,f=(t=!1,"collections"===i&&d.forEach(i=>{if(i.heroFadeTarget>i.heroFadeAlpha){let n=e.millis()-i.heroFadeStart,o=e.constrain(n/400,0,1);i.heroFadeAlpha=e.lerp(0,i.heroFadeTarget,o),t=!0}}),t),S=g&&o&&m<o.images.length&&(!k.get(o.images[m])||!k.get(o.images[m]).loaded);c=v||f||S,u=e.mouseX,p=e.mouseY,c||n||!(a>10)||s&&"collections"===i||e.noLoop()},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),A(),e.loop()},e.mousePressed=function(t){(!t||0===t.button)&&(window.helpPopupOpen||window.contactPopupOpen||e.loop())},e.mouseDragged=function(t){e.loop()},e.mouseReleased=function(t){if(!window.helpPopupOpen&&!window.contactPopupOpen){if(g)return void R();"collections"===i&&P(),e.loop()}},e.mouseMoved=function(t){!1===e._loop&&e.loop()},e.touchStarted=function(t){return!window.helpPopupOpen&&(e.loop(),!1)},e.touchEnded=function(t){return!window.helpPopupOpen&&(g?R():("collections"===i&&P(),e.loop()),!1)}};class v extends o.LitElement{static styles=(0,o.css)`
        canvas {
            display: block;
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
    `;static properties={id:{type:String},sketch:{type:String},skipAnimations:{type:Boolean},options:{type:Object}};constructor(){super(),this.id="bg",this.sketch="",this.skipAnimations=!1,this.options={},this.p5Instance=null,this.containerDiv=null,this.isInitialized=!1}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.isInitialized||this.initializeSketch()})}disconnectedCallback(){super.disconnectedCallback(),this.cleanupSketch()}updated(e){super.updated(e),this.isInitialized&&(e.has("sketch")||e.has("skipAnimations")||e.has("options"))?(this.cleanupSketch(),this.initializeSketch()):this.isInitialized||this.initializeSketch()}cleanupSketch(){try{this.p5Instance&&(console.log(`p5-element: Cleaning up p5 instance for ${this.sketch}`),"function"==typeof this.p5Instance.cleanupSketch&&this.p5Instance.cleanupSketch(),this.p5Instance.remove(),this.p5Instance=null),this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}catch(e){console.error("p5-element: Error during cleanup:",e),this.p5Instance=null,this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}}initializeSketch(){try{if(this.containerDiv||(this.containerDiv=this.shadowRoot.querySelector("#sketch-container")),!this.containerDiv){console.warn("p5-element: Container not ready yet, retrying..."),setTimeout(()=>this.initializeSketch(),100);return}if(this.containerDiv.innerHTML="",console.log(`p5-element: Initializing sketch: ${this.sketch}, skipAnimations: ${this.skipAnimations}, options:`,this.options),"home"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>s(e,t),e))(this.containerDiv,{skipAnimations:this.skipAnimations});else if("codeart"===this.sketch){let e;this.p5Instance=(e=this.containerDiv,new p5(h,e))}else if("webexperiences"===this.sketch)this.p5Instance=((e,t={})=>new p5(c,e))(this.containerDiv,this.options);else if("links"===this.sketch)this.p5Instance=((e,t={})=>new p5(p,e))(this.containerDiv,this.options);else if("installations"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>w(e,t),e))(this.containerDiv,this.options);else if("photo"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>y(e,t),e))(this.containerDiv,this.options);else{let e;this.p5Instance=(e=this.containerDiv,new p5(r,e))}this.p5Instance&&(console.log(`p5-element: Successfully created p5 instance for ${this.sketch}`),this.isInitialized=!0)}catch(e){console.error("p5-element: Error initializing sketch:",e),this.isInitialized=!1}}render(){return(0,o.html)`<div id="sketch-container"></div>`}}customElements.define("p5-element",v);
//# sourceMappingURL=blap64.9ff117d6.js.map
