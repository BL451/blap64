var e=globalThis,t={},i={},n=e.parcelRequire905d;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequire905d=n),n.register;var o=n("800sp"),s=n("baa6D");const l=function(e,t={}){let i,n,o,l,a,r=[],h=0,d=[],c=[],u=!1,m=t.skipAnimations||!1;function g(e){h=255*e}function p(){if(0!==r.length)if(u){let t=.5*e.width,i=.7*e.height,n=.45*e.width,o=[{x:t-n/2,y:i-n/2},{x:t+n/2,y:i-n/2},{x:t-n/2,y:i+n/2},{x:t+n/2,y:i+n/2}];for(let e=0;e<r.length;e++){let t=o[e%o.length];r[e].p.x=t.x,r[e].p.y=t.y,r[e].textWriter.p.x=t.x,r[e].textWriter.p.y=t.y}}else{let t=.15*e.width,i=.75*e.height,n=.85*e.width,o=.2*e.height,s=.6*e.width,l=.65*e.height;for(let e=0;e<r.length;e++){let a=r.length>1?e/(r.length-1):0,h=1-a,d=h*h*t+2*h*a*s+a*a*n,c=h*h*i+2*h*a*l+a*a*o;r[e].p.x=d,r[e].p.y=c,r[e].textWriter.p.x=d,r[e].textWriter.p.y=c}}}e.setup=async function(){e.noCanvas();let t=(0,s.getViewportSize)();e.createCanvas(t.width,t.height),u=(0,s.widthCheck)(e.width),e.background(23),e.noFill(),e.stroke(230),e.strokeWeight(4),e.strokeCap(e.PROJECT),await (0,s.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),e.textAlign(e.CENTER,e.CENTER),o=e.min(e.width,e.height);let w=Math.max(.022*e.width,32);r.push(new(0,s.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",w)),r.push(new(0,s.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",w)),r.push(new(0,s.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",w)),r.push(new(0,s.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"COLLECT",w)),p(),i=e.width/2,n=e.height/2,e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),a=(0,s.getFontSizes)(e.width,e.height);let f=[.04,.15];u&&(f=[.025,.05]),d.push(new(0,s.TextWriter)(e,f[0]*e.width,f[0]*e.width,e.width,e.height/2,"HELLO, FRIEND.",a.large)),d.push(new(0,s.TextWriter)(e,f[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",a.small)),d.push(new(0,s.TextWriter)(e,f[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST",a.medium)),c=[{start_time:1e3,duration:1e3,idx:0,fn:d[0].renderSequentialRandom.bind(d[0]),args:[],persist:!0},{start_time:3e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["HELLO, FRIEND.","My name is Benjamin Lappalainen"],persist:!0},{start_time:4e3,duration:500,idx:1,fn:d[1].renderSequentialRandom.bind(d[1]),args:[],persist:!0},{start_time:4750,duration:2e3,idx:2,fn:d[2].renderSequentialRandom.bind(d[2]),args:[],persist:!0},{start_time:7250,duration:1e3,idx:2,fn:d[2].renderTransition.bind(d[2]),args:["CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST","CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more..."],persist:!0},{start_time:5e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["My name is Benjamin Lappalainen","Benjamin Lappalainen"],persist:!0},{start_time:7e3,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["Benjamin Lappalainen","BLAP"],persist:!0},{start_time:7500,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["BLAP","BLAP64"],persist:!0},{start_time:4e3,duration:1e3,idx:3,fn:g,args:[],persist:!1}],l=new(0,s.AnimationManager)(c),m&&(d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",h=255,l.t=999999),window.addEventListener("focus",t=>{e.millis()>5e3&&g(1)})},e.draw=function(){i=(0,s.smoothFollow)(e.mouseX,i,.003*e.deltaTime),n=(0,s.smoothFollow)(e.mouseY,n,.003*e.deltaTime),e.clear(),e.background(23),e.textAlign(e.CENTER,e.CENTER),r.forEach(t=>{let l=t.dist(i,n);t.cs.x=(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0)),t.cs.y=(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0)),e.strokeWeight(1+.015*o*(0,s.easeInCubic)(e.map(l,0,.5*e.width,1,0,!0))),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20,h):e.stroke(230,h),t.render(),e.noStroke();let a=0;u||(a=t.textWriter.dist(i,n)),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(a/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20,h):e.fill(230,h),t.textWriter.renderSequentialRandom(e.map(a,100,.5*e.width,1,0,!0))}),e.noFill(),e.stroke(230),e.strokeWeight(2),e.noStroke(),e.fill(230),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),l.execute(e),(0,s.updateCursor)(e,e.mouseX,e.mouseY,r)},e.mousePressed=function(t){t&&0!==t.button||h<128||r.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/codeart")},500);break;case 1:console.log("Photo section coming soon!");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),o=e.min(t.width,t.height),u=(0,s.widthCheck)(e.width),a=(0,s.getFontSizes)(e.width,e.height);let i=[.05,.15];u&&(i=[.025,.05]),r.length=0;let n=Math.max(.022*e.width,32);r.push(new(0,s.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*o,.26*o,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",n)),r.push(new(0,s.UIArcButton)(e,.5*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"PHOTO",n)),r.push(new(0,s.UITriangleButton)(e,.75*e.width,.35*e.height,.2*o,.2*o,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",n)),r.push(new(0,s.UIHexButton)(e,.75*e.width,.7*e.height,.3*o,.3*o,.01*e.width,.01*e.width,"COLLECT",n)),p(),m?(d.length=0,d.push(new(0,s.TextWriter)(e,i[0]*e.width,i[0]*e.width,.8*e.width,e.height/2,"BLAP64",a.large)),d.push(new(0,s.TextWriter)(e,i[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",a.small)),d.push(new(0,s.TextWriter)(e,i[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",a.medium))):(d[0].p.x=i[0]*e.width,d[0].p.y=i[0]*e.width,d[0].s.x=.8*e.width,d[0].s.y=e.height/2,d[0].size=a.large,d[1].p.x=i[1]*e.width,d[1].p.y=.18*e.height,d[1].s.x=e.width/2,d[1].s.y=e.height/2,d[1].size=a.small,d[2].p.x=i[1]*e.width,d[2].p.y=.22*e.height,d[2].s.x=e.width,d[2].s.y=e.height/2,d[2].size=a.medium)}};var s=n("baa6D");const a=function(e){let t,i=128;e.setup=function(){e.noCanvas(),e.pixelDensity(1);let n=(0,s.getViewportSize)();e.createCanvas(n.width,n.height,e.WEBGL);let o={width:128,height:128,textureFiltering:e.NEAREST};e.noSmooth(),e.ellipseMode(e.CENTER),i=e.min(n.width,n.height),t=e.createFramebuffer(o);let l=document.getElementById("bg").shadowRoot.getElementById("p5_loading");l&&l.remove()},e.draw=function(){e.clear(),t.begin(),e.noFill(),e.stroke(200,20,20),e.strokeWeight(e.abs(e.sin(e.frameCount/42))),e.clear(),e.rotateX(e.frameCount/50),e.rotateY(e.frameCount/200),e.circle(0,0,64),e.rotateY(e.PI/2),e.circle(0,0,64),t.end(),e.image(t,-i/2,-i/2,i,i)},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),i=e.min(t.width,t.height)}};var s=n("baa6D");const r=function(e){let t,i,n,o=[],l=128,a=0,r=0;function h(){o.length=0;let a=Math.max(.022*e.width,32);o.push(new(0,s.UITriangleButton)(e,t,i-n,.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"LIVE\nEXPERIENCES",a)),o[0].setTextOffset(0,-.9*n),o.push(new(0,s.UITriangleButton)(e,t-n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"PHYSICAL\nARTIFACTS",a)),o[1].setTextOffset(-.95*n*e.cos(e.PI/6),.95*n*e.sin(e.PI/6)),o.push(new(0,s.UITriangleButton)(e,t+n*e.cos(e.PI/6),i+n*e.sin(e.PI/6),.1*l,.1*l,.01*e.width,.01*e.width,-.5*e.PI,"WEB\nEXPERIENCES",a)),o[2].setTextOffset(.95*n*e.cos(e.PI/6),.95*n*e.sin(e.PI/6))}function d(t,i){return{x:t*e.cos(i),y:-t*e.sin(i)}}function c(t=0,i=0,n=0){return 2*(e.noise(t,i,n)-.5)}e.setup=function(){e.noCanvas(),e.pixelDensity(1);let o=(0,s.getViewportSize)();e.createCanvas(o.width,o.height),l=e.min(o.width,o.height),t=.5*e.width,i=.6*e.height,n=.2*l,h(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT);let a=document.getElementById("bg").shadowRoot.getElementById("p5_loading");a&&a.remove()},e.draw=function(){e.background(23),a=(0,s.smoothFollow)(e.mouseX,a,.003*e.deltaTime),r=(0,s.smoothFollow)(e.mouseY,r,.003*e.deltaTime),e.noFill(),e.stroke(230),e.strokeWeight(1),o.forEach(t=>{let i=t.dist(a,r);t.cs.x=(0,s.easeInCubic)(e.map(i,0,.5*e.width,1,0)),t.cs.y=(0,s.easeInCubic)(e.map(i,0,.5*e.width,1,0)),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20):e.stroke(230),t.renderTriangle(),e.noStroke();let n=0;n=i,e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(n/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20):e.fill(230),t.textWriter.renderSequentialRandom(e.map(n,100,.5*e.width,1,0,!0))}),function(){let o=3e-4*e.millis();e.noFill(),e.stroke(230),e.strokeWeight(1);let s=e.createVector(a,r),l=e.createVector(t,i),h=p5.Vector.sub(s,l),u=h.heading(),m=t+.1*e.min(h.mag(),3*n)*e.cos(u),g=i+.1*e.min(h.mag(),3*n)*e.sin(u);e.circle(m,g,.5*n);let p=-u,w=p+c(o),f=2*e.PI/3+p+c(o),y=4*e.PI/3+p+c(o),x=d(.2*n,w),k=d(.3*n,w),T=d(.2*n,f),v=d(.3*n,f),I=d(.2*n,y),C=d(.3*n,y);e.line(m+x.x,g+x.y,m+k.x,g+k.y),e.line(m+T.x,g+T.y,m+v.x,g+v.y),e.line(m+I.x,g+I.y,m+C.x,g+C.y),p=e.abs(p);for(let t=0;t<3;t++){let i=e.PI*c(.1*p+3e-4*e.millis());w=t*e.TWO_PI/3+.6*e.PI/6+p+i,f=t*e.TWO_PI/3+1.4*e.PI/6+p+i,x=d(.5*n,w),k=d(.5*n,f),e.line(m+x.x,g+x.y,m+k.x,g+k.y);let o=.02*p/e.PI+.02,s=(.5-o)*n,l=(.5+o)*n;x=d(s,w),k=d(l,w),e.line(m+x.x,g+x.y,m+k.x,g+k.y),x=d(s,f),k=d(l,f),e.line(m+x.x,g+x.y,m+k.x,g+k.y)}}(),(0,s.updateCursor)(e,e.mouseX,e.mouseY,o)},e.windowResized=function(){let o=(0,s.getViewportSize)();e.resizeCanvas(o.width,o.height),l=e.min(o.width,o.height),t=.5*e.width,i=.6*e.height,n=.2*l,h()},e.mousePressed=function(t){t&&0!==t.button||o.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/codeart/installations")},500);break;case 1:console.log("PHYSICAL ARTIFACTS COMING SOON");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})}};var s=n("baa6D");const h=[{name:"Sketching Flock",type:"Interactive Installation, Projection",location:"Toronto, Canada",year:"2025",description:"Coming soon!",images:[],thumbnails:{}},{name:"Blind Spots",type:"Interactive Installation, Projection",location:"Toronto, Canada",year:"2025",description:"Coming soon!",images:[]},{name:"Long Winter 13.1",type:"VJ Performance, Audio Reactive, Projection",location:"Toronto, Canada",year:"2024",description:"Coming soon!",images:[]},{name:"Game, Set, Match",type:"Interactive Installation, Projection",location:"Toronto, Canada",year:"2024",description:"Coming soon!",images:[]},{name:"Bird Conductor",type:"Interactive Installation, Projection",location:"Toronto, Canada",year:"2024",description:"Coming soon!",images:[]},{name:"Live Coding",type:"Visual Performance, Audio Reactive, Projection",location:"Toronto, Canada",year:"2024",description:"Coming soon!",images:[]},{name:"Surveil Yourself",type:"Interactive Installation, Projection",location:"Toronto, Canada",year:"2023",description:"Coming soon!",images:[]}],d=function(e){let t,i,n,o=[],l=128,a=0,r=0,d=e.createVector(a,r),c=!1,u=[],m=null,g=0,p=0,w=!1,f=0,y=0,x=0,k=!1,T=0,v=0,I=new Map,C=null,S=0,E=!1,b=0,P=0,R=null;function A(){let t=(0,s.widthCheck)(e.width),i=t?e.min(.95*e.width,.9*e.height):e.min(.9*e.width,.85*e.height,900),n=(e.width-i)/2,o=(e.height-i)/2;return{size:i,x:n,y:o,isMobile:t}}function W(e,t,i,n){let o=n?e/400:e/600,s=25*o,l=25*o;return{galleryY:i+s+5.3*l,galleryHeight:.4*e,baseTextScale:o,padding:s,lineHeight:l}}function F(t,i,n,o){e.fill(0,0,0,o/255*120),e.noStroke(),e.circle(t+n/2,i+n/2,n),e.fill(255,255,255,o/255*180);let s=.35*n,l=t+n/2+.1*s,a=i+n/2;e.triangle(l-s/2,a-s/2,l-s/2,a+s/2,l+s/2,a)}function z(){let a=(0,s.getViewportSize)();l=e.min(a.width,a.height),c=(0,s.widthCheck)(a.width),t=.5*e.width,i=.5*e.height,function(t){u=[];let i=h.length;for(let n=0;n<i;n++){let o=t*(1.8+.8*n),l=e.random(e.TWO_PI),a=5e-5/(1+.3*n),r=t*(.3+e.random(.2)),d=e.map(n,0,i,230,120),m=c?Math.max(16,.8*r):Math.max(14,.7*r),g=1.2*r;u.push(new(0,s.UIPlanetButton)(e,0,0,r,o,l,a,d,h[n].name,m,0,g))}}(n=.07*l),o.length=0,e.width}function B(){f=0,p=e.millis(),w=!0,y=0,x=0,k=!1,null!==C&&L(),document.body.style.overscrollBehavior="",document.body.style.touchAction=""}function O(){return(e,t)=>{if(null!==m){let{size:i,x:n,y:o,isMobile:s}=A(),l=s?44:30,a=n+i-l-10,r=o+10;return e>=a&&e<=a+l&&t>=r&&t<=r+l}return!1}}function L(){P=0,b=e.millis(),E=!0,R&&(R.remove(),R=null)}e.cleanupSketch=function(){R&&(R.remove(),R=null),I.forEach((e,t)=>{"video"===e.type&&e.element&&e.element.remove&&e.element.remove()}),I.clear(),m=null,C=null,g=0,S=0,document.body.style.overscrollBehavior="",document.body.style.touchAction=""},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let t=(0,s.getViewportSize)();e.createCanvas(t.width,t.height),z(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT),await (0,s.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),await (0,s.loadGoogleFontSet)("../../assets/fonts/ZxGamut.ttf"),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let i=document.getElementById("bg").shadowRoot.getElementById("p5_loading");i&&i.remove()},e.draw=function(){e.background(23),a=(0,s.smoothFollow)(e.mouseX,a,.003*e.deltaTime),r=(0,s.smoothFollow)(e.mouseY,r,.003*e.deltaTime),d.x=a,d.y=r,e.noFill(),e.stroke(230),e.strokeWeight(1),function(t,i,n){e.fill("#faa000"),e.noStroke(),e.circle(t,i,.8*n);let o=n*(.69+.03*e.sin(.001*e.millis())),s=.15*n,l=5e-5*e.millis();for(let n=0;n<3;n++){var a,r;let h=e.TWO_PI/3*n+l,d=(a=o,r=h,{x:a*e.cos(r),y:-a*e.sin(r)}),c=t+d.x,u=i+d.y;e.push(),e.translate(c,u),e.rotate(-h+e.HALF_PI),e.triangle(0,-(.6*s),-(.5*s),.5*s,.5*s,.5*s),e.pop()}}(t,i,n),e.noFill(),e.strokeWeight(1),u.forEach((n,o)=>{n.updatePosition(t,i,e.deltaTime),e.noFill(),e.stroke(80,80,80,100),e.strokeWeight(1),e.circle(t,i,2*n.orbitRadius),n.render(d,l)}),e.noFill(),e.stroke(230,50);let c=.03*l;if(e.push(),e.translate(a,r),e.rotate(e.TWO_PI*e.noise(a/l,r/l,1e-4*e.millis())),e.circle(0,0,.33*c),e.triangle(c,0,c*e.cos(e.TWO_PI/3),c*e.sin(e.TWO_PI/3),c*e.cos(2*e.TWO_PI/3),c*e.sin(2*e.TWO_PI/3)),e.pop(),w){let t=e.millis()-p,i=e.constrain(t/250,0,1);g=e.lerp(g,f,i),i>=1&&(w=!1,g=f,0===f&&(m=null))}if(k||(y=e.lerp(y,x,.1)),E){let t=e.millis()-b,i=e.constrain(t/300,0,1);S=e.lerp(S,P,i),i>=1&&(E=!1,S=P,0===P&&(C=null))}let T=null!==m?[o,O()]:[o,...u,O()];(0,s.updateCursor)(e,e.mouseX,e.mouseY,...T),(null!==m||g>0)&&function(t){let{size:i,x:n,y:o,isMobile:l}=A();e.fill(0,0,0,g/255*120),e.noStroke(),e.rect(0,0,e.width,e.height),e.fill(23,23,23,g/255*240),e.stroke(230,g),e.strokeWeight(2),e.rect(n,o,i,i);let a=l?44:30,r=n+i-a-10;var h=o+10,d=g;let c=.25*a;e.fill(50,50,50,d/255*200),e.stroke(200,d),e.strokeWeight(1),e.rect(r,h,a,a),e.stroke(200,d),e.strokeWeight(2),e.line(r+c,h+c,r+a-c,h+a-c),e.line(r+a-c,h+c,r+c,h+a-c),e.fill(230,g),e.noStroke(),e.textAlign(e.LEFT,e.TOP);let u=l?i/400:i/600,m=25*u,p=25*u,w=o+m;if(e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(24*u),e.text(t.name,n+m,w,i-2*m-a),w+=1.8*p,e.textSize(16*u),e.text(t.type,n+m,w,i-2*m),w+=p,e.text(t.location,n+m,w,i-2*m),w+=p,e.text(t.year,n+m,w,i-2*m),w+=1.5*p,t.images&&t.images.length>0){let o=.4*i,l=w;(function(t,i,n,o,l,a){if(!t||0===t.length)return;e.fill(0,0,0,g/255*100),e.stroke(230,.3*g),e.strokeWeight(1),e.rect(i,n,o,l),e.push(),e.drawingContext.save(),e.drawingContext.beginPath(),e.drawingContext.rect(i,n,o,l),e.drawingContext.clip();let r=10*a,h=l-2*r,d=1.5*h,c=t.length*(d+r)-r,u=i+r,m=n+r,p=e.max(0,c-o+2*r);if(x=e.constrain(x,-p,0),t.forEach((t,n)=>{let l=(0,s.getMediaPath)(t),c=u+n*(d+r)+y;if(c+d>=i&&c<=i+o){let t=I.get(l);if(t&&t.loaded){e.push(),e.tint(255,g);try{if("image"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:l,sourceHeight:a}=(0,s.calculateCropDimensions)(i.width,i.height,d,h);e.image(i,c,m,d,h,n,o,l,a)}else if("video-thumbnail"===t.type){let i=t.element,{sourceX:n,sourceY:o,sourceWidth:l,sourceHeight:a}=(0,s.calculateCropDimensions)(i.width,i.height,d,h);e.image(i,c,m,d,h,n,o,l,a);let r=.15*d,u=c+(d-r)/2,p=m+(h-r)/2;F(u,p,r,g)}else if("video"===t.type){let i=t.element;if(i.elt&&(i.elt.readyState>=1||i.elt.videoWidth>0)){let t=i.elt.videoWidth||i.width||1920,n=i.elt.videoHeight||i.height||1080,{sourceX:o,sourceY:l,sourceWidth:a,sourceHeight:r}=(0,s.calculateCropDimensions)(t,n,d,h);e.image(i,c,m,d,h,o,l,a,r)}else e.fill(40,40,40,g/255*200),e.noStroke(),e.rect(c,m,d,h);let n=.15*d,o=c+(d-n)/2,l=m+(h-n)/2;e.fill(0,0,0,g/255*120),e.noStroke(),e.circle(o+n/2,l+n/2,n),e.fill(255,255,255,g/255*180);let a=.35*n,r=o+n/2+.1*a,u=l+n/2;e.triangle(r-a/2,u-a/2,r-a/2,u+a/2,r+a/2,u)}else if("video-placeholder"===t.type){e.fill(23,23,23,g/255*240),e.noStroke(),e.rect(c,m,d,h);let t=.15*d,i=c+(d-t)/2,n=m+(h-t)/2;F(i,n,t,g)}}catch(i){console.warn("Error rendering media:",i),e.fill(80,80,80,g/255*150),e.stroke(120,.5*g),e.strokeWeight(1),e.rect(c,m,d,h),e.fill(200,.7*g),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(10*a),e.text("video"===t.type?"Video Error":"Image Error",c+d/2,m+h/2)}e.pop()}else e.fill(50,50,50,g/255*150),e.stroke(100,.5*g),e.strokeWeight(1),e.rect(c,m,d,h),e.fill(150,.7*g),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(12*a),e.text("Loading...",c+d/2,m+h/2);e.noFill(),e.stroke(230,.6*g),e.strokeWeight(1),e.rect(c,m,d,h)}}),c>o){let t=.8*g;y<0&&(e.fill(230,t),e.noStroke(),e.triangle(i+5,n+l/2,i+15,n+l/2-5,i+15,n+l/2+5)),y>-p&&(e.fill(230,t),e.noStroke(),e.triangle(i+o-5,n+l/2,i+o-15,n+l/2-5,i+o-15,n+l/2+5))}e.drawingContext.restore(),e.pop()})(t.images,n+m,l,i-2*m,o,u),w+=o+p}if(t.description&&t.description.length>0){e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(14*u),e.fill(230,g),e.noStroke();let s=i-(w-o)-m;e.text(t.description,n+m,w,i-2*m,s),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"})}}(h[m]),(null!==C||S>0)&&function(){let t,i,n;if(null===m||null===C)return;let o=h[m];if(!o.images||C>=o.images.length)return;let l=o.images[C];t="string"==typeof l?l:l&&"object"==typeof l?l.default||l.src||l.href||l.toString():String(l);let a=I.get(t);if(t.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i)||a&&("video-placeholder"===a.type||"video-thumbnail"===a.type))return!function(t){let i,n;e.fill(0,0,0,S/255*200),e.noStroke(),e.rect(0,0,e.width,e.height),R||((R=document.createElement("video")).src=t,R.controls=!0,R.preload="metadata",R.setAttribute("playsinline",!0),R.muted=!0,R.style.position="fixed",R.style.zIndex="1000",R.style.backgroundColor="#000",R.style.borderRadius="8px",document.body.appendChild(R));let o=(0,s.widthCheck)(e.width)?e.width:.8*e.width,l=.8*e.height,a=16/9;R.videoWidth&&R.videoHeight&&(a=R.videoWidth/R.videoHeight),a>o/l?(i=o,n=o/a):(n=l,i=l*a);let r=(e.width-i)/2,h=(e.height-n)/2;R.style.left=r+"px",R.style.top=h+"px",R.style.width=i+"px",R.style.height=n+"px",R.style.opacity=S/255;let d=r+i-40-10,c=h+10;e.fill(0,0,0,S/255*150),e.stroke(255,S),e.strokeWeight(2),e.rect(d,c,40,40),e.stroke(255,S),e.strokeWeight(3),e.line(d+12,c+12,d+40-12,c+40-12),e.line(d+40-12,c+12,d+12,c+40-12)}(a&&a.videoSrc?a.videoSrc:t);if(!a||!a.loaded)return;e.fill(0,0,0,S/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let r=(0,s.widthCheck)(e.width)?e.width:.8*e.width,d=.8*e.height;if("image"===a.type){let e=a.element,t=e.width/e.height;t>r/d?(i=r,n=r/t):(n=d,i=d*t)}else if("video"===a.type){let e=a.element,t=e.elt.videoWidth||e.width||1920,o=e.elt.videoHeight||e.height||1080;(t<=0||o<=0)&&(t=1920,o=1080);let s=t/o;s>r/d?(i=r,n=r/s):(n=d,i=d*s)}let c=(e.width-i)/2,u=(e.height-n)/2;e.push(),e.tint(255,S),e.image(a.element,c,u,i,n),e.pop();let g=c+i-40-10,p=u+10;e.fill(0,0,0,S/255*150),e.stroke(255,S),e.strokeWeight(2),e.rect(g,p,40,40),e.stroke(255,S),e.strokeWeight(3),e.line(g+12,p+12,g+40-12,p+40-12),e.line(g+40-12,p+12,g+12,p+40-12)}()},e.windowResized=function(){let t=(0,s.getViewportSize)();e.resizeCanvas(t.width,t.height),z()},e.mousePressed=function(t){if(!t||0===t.button){if(null!==C){let t,i,n,o=h[m].images[C],l=(t="string"==typeof o?o:o&&"object"==typeof o?o.default||o.src||o.href||o.toString():String(o)).toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),a=(0,s.widthCheck)(e.width)?e.width:.8*e.width,r=.8*e.height;if(l){let e=R&&R.videoWidth&&R.videoHeight?R.videoWidth/R.videoHeight:16/9;e>a/r?(i=a,n=a/e):(n=r,i=r*e)}else{let e=I.get(t);if(!e||!e.loaded)return;{let t=e.element,o=t.width/t.height;o>a/r?(i=a,n=a/o):(n=r,i=r*o)}}let d=(e.width-i)/2,c=(e.height-n)/2,u=d+i-40-10,g=c+10;return e.mouseX>=u&&e.mouseX<=u+40&&e.mouseY>=g&&e.mouseY<=g+40||e.mouseX<d||e.mouseX>d+i||e.mouseY<c||e.mouseY>c+n?void L():void 0}if(o.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/codeart")},500);break;case 1:console.log("Photo section coming soon!");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}}),null!==m){let{size:t,x:i,y:n,isMobile:o}=A(),s=o?44:30,l=i+t-s-10,a=n+10;if(e.mouseX>=l&&e.mouseX<=l+s&&e.mouseY>=a&&e.mouseY<=a+s)return void B();let r=h[m];if(r.images&&r.images.length>0){let s=o?t/400:t/600,l=25*s,a=n+l+25*s*5.3;if(e.mouseX>=i+l&&e.mouseX<=i+t-l&&e.mouseY>=a&&e.mouseY<=a+.4*t){k=!0,T=e.mouseX,v=y;return}}return e.mouseX<i||e.mouseX>i+t||e.mouseY<n||e.mouseY>n+t?void B():void 0}u.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){var n,o;return void(m=n=i,f=255,p=e.millis(),w=!0,y=0,x=0,k=!1,(o=h[n]).images&&0!==o.images.length&&o.images.forEach((t,i)=>{let n=(0,s.getMediaPath)(t);if(!I.has(n)){let i=(0,s.isVideoFile)(n);if(c&&i){if(o.thumbnails&&o.thumbnails[t]){let i=o.thumbnails[t];e.loadImage(i,e=>{I.set(n,{element:e,type:"video-thumbnail",videoSrc:n,loaded:!0})},e=>{console.error("Failed to load video thumbnail:",i,e),I.set(n,{element:null,type:"video-placeholder",videoSrc:n,loaded:!0})})}else I.set(n,{element:null,type:"video-placeholder",videoSrc:n,loaded:!0});return}i?function(t){let i=e.createVideo(t,()=>{I.set(t,{element:i,type:"video",loaded:!0})});i.hide(),i.volume(0),i.elt.setAttribute("playsinline",!0),i.elt.setAttribute("muted",!0),i.elt.setAttribute("preload","metadata"),c?(i.noLoop(),i.pause(),i.elt.addEventListener("loadedmetadata",()=>{i.elt.currentTime=.1}),i.elt.addEventListener("seeked",()=>{i.pause()})):i.loop(),i.elt.addEventListener("loadeddata",()=>{I.set(t,{element:i,type:"video",loaded:!0})}),i.elt.addEventListener("canplay",()=>{I.set(t,{element:i,type:"video",loaded:!0})}),I.set(t,{element:i,type:"video",loaded:!1}),setTimeout(()=>{let e=I.get(t);e&&!e.loaded&&I.set(t,{element:i,type:"video",loaded:!0})},3e3)}(n):e.loadImage(n,e=>{I.set(n,{element:e,type:"image",loaded:!0})},e=>{console.error("Failed to load image:",n,e)})}}),document.body.style.overscrollBehavior="none",document.body.style.touchAction="none")}})}},e.mouseDragged=function(){if(k&&null!==m){let t=e.mouseX-T;x=y=v+t}},e.mouseReleased=function(){if(k){let t=Math.abs(e.mouseX-T);if(k=!1,t<5&&null!==m){let t=h[m];if(t&&t.images&&t.images.length>0){let{size:i,x:n,y:o,isMobile:s}=A(),{galleryY:l,galleryHeight:a,baseTextScale:r,padding:h}=W(i,n,o,s),{itemWidth:d,itemHeight:c,galleryPadding:u}=function(e,t){let i=10*t,n=e-2*i;return{itemWidth:1.5*n,itemHeight:n,galleryPadding:i}}(a,r),m=n+h+u,g=l+u;for(let i=0;i<t.images.length;i++){let t=m+i*(d+u)+y;if(e.mouseX>=t&&e.mouseX<=t+d&&e.mouseY>=g&&e.mouseY<=g+c)return void(C=i,P=255,b=e.millis(),E=!0)}}}let i=h[m];if(i&&i.images&&i.images.length>0){let t=(0,s.widthCheck)(e.width)?e.min(.95*e.width,.9*e.height):e.min(.9*e.width,.85*e.height,900),n=(0,s.widthCheck)(e.width)?t/400:t/600,o=20*n,l=i.images.length*(.4*t*1.35+o)-o,a=e.max(0,l-(t-25*n*2)+20*n);x=e.constrain(x,-a,0)}}},e.mouseWheel=function(t){if(null!==m){let i=h[m];if(i&&i.images&&i.images.length>0){let{size:n,x:o,y:s,isMobile:l}=A(),{galleryY:a,galleryHeight:r,baseTextScale:h,padding:d}=W(n,o,s,l);if(e.mouseX>=o+d&&e.mouseX<=o+n-d&&e.mouseY>=a&&e.mouseY<=a+r){let o=2*t.delta;x-=o;let s=n-2*d,l=20*h,a=i.images.length*(.9*r*1.5+l)-l,c=e.max(0,a-s+20*h);return x=e.constrain(x,-c,0),!1}}}}};class c extends o.LitElement{static styles=(0,o.css)`
        canvas {
            display: block;
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
    `;static properties={id:{type:String},sketch:{type:String},skipAnimations:{type:Boolean}};constructor(){super(),this.id="bg",this.sketch="",this.skipAnimations=!1,this.p5Instance=null,this.containerDiv=null,this.isInitialized=!1}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.isInitialized||this.initializeSketch()})}disconnectedCallback(){super.disconnectedCallback(),this.cleanupSketch()}updated(e){super.updated(e),this.isInitialized&&(e.has("sketch")||e.has("skipAnimations"))?(this.cleanupSketch(),this.initializeSketch()):this.isInitialized||this.initializeSketch()}cleanupSketch(){try{this.p5Instance&&(console.log(`p5-element: Cleaning up p5 instance for ${this.sketch}`),"function"==typeof this.p5Instance.cleanupSketch&&this.p5Instance.cleanupSketch(),this.p5Instance.remove(),this.p5Instance=null),this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}catch(e){console.error("p5-element: Error during cleanup:",e),this.p5Instance=null,this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}}initializeSketch(){try{if(this.containerDiv||(this.containerDiv=this.shadowRoot.querySelector("#sketch-container")),!this.containerDiv){console.warn("p5-element: Container not ready yet, retrying..."),setTimeout(()=>this.initializeSketch(),100);return}if(this.containerDiv.innerHTML="",console.log(`p5-element: Initializing sketch: ${this.sketch}, skipAnimations: ${this.skipAnimations}`),"home"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>l(e,t),e))(this.containerDiv,{skipAnimations:this.skipAnimations});else if("codeart"===this.sketch){let e;this.p5Instance=(e=this.containerDiv,new p5(r,e))}else if("installations"===this.sketch){let e;this.p5Instance=(e=this.containerDiv,new p5(d,e))}else{let e;this.p5Instance=(e=this.containerDiv,new p5(a,e))}this.p5Instance&&(console.log(`p5-element: Successfully created p5 instance for ${this.sketch}`),this.isInitialized=!0)}catch(e){console.error("p5-element: Error initializing sketch:",e),this.isInitialized=!1}}render(){return(0,o.html)`<div id="sketch-container"></div>`}}customElements.define("p5-element",c);
//# sourceMappingURL=blap64.ed765275.js.map
