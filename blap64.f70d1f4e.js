var e=globalThis,t={},i={},o=e.parcelRequire905d;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in i){var o=i[e];delete i[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){i[e]=t},e.parcelRequire905d=o),o.register;var n=o("800sp"),l=o("baa6D");const h=function(e,t={}){let i,o,n,h,r,s=[],a=0,d=[],c=[],u=!1,g=t.skipAnimations||!1;function m(e){a=255*e}function p(){if(0!==s.length)if(u){let t=.5*e.width,i=.7*e.height,o=.45*e.width,n=[{x:t-o/2,y:i-o/2},{x:t+o/2,y:i-o/2},{x:t-o/2,y:i+o/2},{x:t+o/2,y:i+o/2}];for(let e=0;e<s.length;e++){let t=n[e%n.length];s[e].p.x=t.x,s[e].p.y=t.y,s[e].textWriter.p.x=t.x,s[e].textWriter.p.y=t.y}}else{let t=.15*e.width,i=.75*e.height,o=.85*e.width,n=.2*e.height,l=.6*e.width,h=.65*e.height;for(let e=0;e<s.length;e++){let r=s.length>1?e/(s.length-1):0,a=1-r,d=a*a*t+2*a*r*l+r*r*o,c=a*a*i+2*a*r*h+r*r*n;s[e].p.x=d,s[e].p.y=c,s[e].textWriter.p.x=d,s[e].textWriter.p.y=c}}}e.setup=async function(){e.noCanvas();let t=(0,l.getViewportSize)();e.createCanvas(t.width,t.height),u=(0,l.widthCheck)(e.width),e.background(23),e.noFill(),e.stroke(230),e.strokeWeight(4),e.strokeCap(e.PROJECT),await (0,l.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),e.textAlign(e.CENTER,e.CENTER),n=e.min(e.width,e.height);let w=u?14:Math.max(.022*e.width,32);s.push(new(0,l.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*n,.26*n,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",w)),s.push(new(0,l.UIArcButton)(e,.5*e.width,.7*e.height,.3*n,.3*n,.01*e.width,.01*e.width,"PHOTO",w)),s.push(new(0,l.UITriangleButton)(e,.75*e.width,.35*e.height,.2*n,.2*n,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",w)),s.push(new(0,l.UIHexButton)(e,.75*e.width,.7*e.height,.3*n,.3*n,.01*e.width,.01*e.width,"COLLECT",w)),p(),i=e.width/2,o=e.height/2,e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),r=(0,l.getFontSizes)(e.width,e.height);let f=[.04,.15];u&&(f=[.025,.05]),d.push(new(0,l.TextWriter)(e,f[0]*e.width,f[0]*e.width,e.width,e.height/2,"HELLO, FRIEND.",r.large)),d.push(new(0,l.TextWriter)(e,f[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,l.TextWriter)(e,f[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST",r.medium)),c=[{start_time:500,duration:1e3,idx:0,fn:d[0].renderSequentialRandom.bind(d[0]),args:[],persist:!0},{start_time:3e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["HELLO, FRIEND.","My name is Benjamin Lappalainen"],persist:!0},{start_time:4e3,duration:500,idx:1,fn:d[1].renderSequentialRandom.bind(d[1]),args:[],persist:!0},{start_time:4750,duration:2e3,idx:2,fn:d[2].renderSequentialRandom.bind(d[2]),args:[],persist:!0},{start_time:7250,duration:1e3,idx:2,fn:d[2].renderTransition.bind(d[2]),args:["CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST","CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more..."],persist:!0},{start_time:5e3,duration:1e3,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["My name is Benjamin Lappalainen","Benjamin Lappalainen"],persist:!0},{start_time:7e3,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["Benjamin Lappalainen","BLAP"],persist:!0},{start_time:7500,duration:250,idx:0,fn:d[0].renderTransition.bind(d[0]),args:["BLAP","BLAP64"],persist:!0},{start_time:4e3,duration:1e3,idx:3,fn:m,args:[],persist:!1}],h=new(0,l.AnimationManager)(c),g&&(d[0].t="BLAP64",d[1].t="I play many roles:",d[2].t="CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",a=255,h.t=999999),window.addEventListener("focus",t=>{e.millis()>5e3&&m(1)})},e.draw=function(){u?(i=e.width*(.5+.2*e.cos(7e-4*e.millis())),o=e.height*(.75+.2*e.sin(7e-4*e.millis()))):(i=(0,l.smoothFollow)(e.mouseX,i,.003*e.deltaTime),o=(0,l.smoothFollow)(e.mouseY,o,.003*e.deltaTime)),e.clear(),e.background(23),e.textAlign(e.CENTER,e.CENTER),s.forEach(t=>{let h=t.dist(i,o);t.cs.x=(0,l.easeInCubic)(e.map(h,0,.5*e.width,1,0)),t.cs.y=(0,l.easeInCubic)(e.map(h,0,.5*e.width,1,0)),e.strokeWeight(1+.015*n*(0,l.easeInCubic)(e.map(h,0,.5*e.width,1,0,!0))),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20,a):e.stroke(230,a),t.render(),e.noStroke(),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(h/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20,a):e.fill(230,a),t.textWriter.renderSequentialRandom(e.map(h,100,.5*e.width,1,0,!0))}),e.noFill(),e.stroke(230),e.strokeWeight(2),e.noStroke(),e.fill(230),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),h.execute(e),(0,l.updateCursor)(e,e.mouseX,e.mouseY,s)},e.mousePressed=function(t){t&&0!==t.button||a<128||s.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive")},500);break;case 1:setTimeout(()=>{window.appRouter.navigate("/photo")},500);break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),n=e.min(t.width,t.height),u=(0,l.widthCheck)(e.width),r=(0,l.getFontSizes)(e.width,e.height);let i=[.05,.15];u&&(i=[.025,.05]),s.length=0;let o=Math.max(.022*e.width,32);s.push(new(0,l.UICornerBoxButton)(e,.25*e.width,.7*e.height,.26*n,.26*n,.01*e.width,.01*e.width,"INTERACTIVE\nMEDIA",o)),s.push(new(0,l.UIArcButton)(e,.5*e.width,.7*e.height,.3*n,.3*n,.01*e.width,.01*e.width,"PHOTO",o)),s.push(new(0,l.UITriangleButton)(e,.75*e.width,.35*e.height,.2*n,.2*n,.01*e.width,.01*e.width,-.5*e.PI,"ABOUT",o)),s.push(new(0,l.UIHexButton)(e,.75*e.width,.7*e.height,.3*n,.3*n,.01*e.width,.01*e.width,"COLLECT",o)),p(),g?(d.length=0,d.push(new(0,l.TextWriter)(e,i[0]*e.width,i[0]*e.width,.8*e.width,e.height/2,"BLAP64",r.large)),d.push(new(0,l.TextWriter)(e,i[1]*e.width,.18*e.height,e.width/2,e.height/2,"I play many roles:",r.small)),d.push(new(0,l.TextWriter)(e,i[1]*e.width,.22*e.height,e.width,e.height/2,"CREATIVE TECHNOLOGIST\nEDUCATOR\nARTIST\nand more...",r.medium))):(d[0].p.x=i[0]*e.width,d[0].p.y=i[0]*e.width,d[0].s.x=.8*e.width,d[0].s.y=e.height/2,d[0].size=r.large,d[1].p.x=i[1]*e.width,d[1].p.y=.18*e.height,d[1].s.x=e.width/2,d[1].s.y=e.height/2,d[1].size=r.small,d[2].p.x=i[1]*e.width,d[2].p.y=.22*e.height,d[2].s.x=e.width,d[2].s.y=e.height/2,d[2].size=r.medium)}};var l=o("baa6D");const r=function(e){let t,i=128;e.setup=function(){e.noCanvas(),e.pixelDensity(1);let o=(0,l.getViewportSize)();e.createCanvas(o.width,o.height,e.WEBGL);let n={width:128,height:128,textureFiltering:e.NEAREST};e.noSmooth(),e.ellipseMode(e.CENTER),i=e.min(o.width,o.height),t=e.createFramebuffer(n);let h=document.getElementById("bg").shadowRoot.getElementById("p5_loading");h&&h.remove()},e.draw=function(){e.clear(),t.begin(),e.noFill(),e.stroke(200,20,20),e.strokeWeight(e.abs(e.sin(e.frameCount/42))),e.clear(),e.rotateX(e.frameCount/50),e.rotateY(e.frameCount/200),e.circle(0,0,64),e.rotateY(e.PI/2),e.circle(0,0,64),t.end(),e.image(t,-i/2,-i/2,i,i)},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),i=e.min(t.width,t.height)}};var l=o("baa6D");const s=function(e){let t,i,o,n=[],h=128,r=0,s=0,a=!1;function d(){n.length=0;let r=a?18:Math.max(.022*e.width,32);n.push(new(0,l.UITriangleButton)(e,t,i-o,.1*h,.1*h,.01*e.width,.01*e.width,-.5*e.PI,"LIVE\nEXPERIENCES",r)),n[0].setTextOffset(0,-.9*o),n.push(new(0,l.UITriangleButton)(e,t-o*e.cos(e.PI/6),i+o*e.sin(e.PI/6),.1*h,.1*h,.01*e.width,.01*e.width,-.5*e.PI,"PHYSICAL\nARTIFACTS",r)),n[1].setTextOffset(-.95*o*e.cos(e.PI/6),1.15*o*e.sin(e.PI/6)),n.push(new(0,l.UITriangleButton)(e,t+o*e.cos(e.PI/6),i+o*e.sin(e.PI/6),.1*h,.1*h,.01*e.width,.01*e.width,-.5*e.PI,"WEB\nEXPERIENCES",r)),n[2].setTextOffset(.95*o*e.cos(e.PI/6),1.15*o*e.sin(e.PI/6))}function c(t,i){return{x:t*e.cos(i),y:-t*e.sin(i)}}function u(t=0,i=0,o=0){return 2*(e.noise(t,i,o)-.5)}e.setup=function(){e.noCanvas(),e.pixelDensity(1);let n=(0,l.getViewportSize)();a=(0,l.widthCheck)(n.width),e.createCanvas(n.width,n.height),h=e.min(n.width,n.height),t=.5*e.width,i=a?.5*e.height:.6*e.height,o=.2*h,d(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT);let r=document.getElementById("bg").shadowRoot.getElementById("p5_loading");r&&r.remove()},e.draw=function(){e.background(23),a?(r=e.width*(.5+.2*e.cos(-e.PI/2+.001*e.millis())),s=e.height*(.5+.2*e.sin(-e.PI/2+.001*e.millis()))):(r=(0,l.smoothFollow)(e.mouseX,r,.003*e.deltaTime),s=(0,l.smoothFollow)(e.mouseY,s,.003*e.deltaTime)),e.noFill(),e.stroke(230),e.strokeWeight(1),n.forEach(t=>{let i=t.dist(r,s);t.cs.x=(0,l.easeInCubic)(e.map(i,0,.5*e.width,1,0)),t.cs.y=(0,l.easeInCubic)(e.map(i,0,.5*e.width,1,0)),e.noFill(),t.contains(e.mouseX,e.mouseY)?e.stroke(230,20,20):e.stroke(230),t.renderTriangle(),e.noStroke(),e.textFont("BPdotsSquareVF",{fontVariationSettings:`wght ${e.map(i/e.width,1,0,100,900,!0)}`}),t.contains(e.mouseX,e.mouseY)?e.fill(230,20,20):e.fill(230),t.textWriter.renderSequentialRandom(e.map(i,100,.5*e.width,1,0,!0))}),function(){let n=3e-4*e.millis();e.noFill(),e.stroke(230),e.strokeWeight(1);let l=e.createVector(r,s),h=e.createVector(t,i),a=p5.Vector.sub(l,h),d=a.heading(),g=t+.1*e.min(a.mag(),3*o)*e.cos(d),m=i+.1*e.min(a.mag(),3*o)*e.sin(d);e.circle(g,m,.5*o);let p=-d,w=p+u(n),f=2*e.PI/3+p+u(n),v=4*e.PI/3+p+u(n),x=c(.2*o,w),y=c(.3*o,w),S=c(.2*o,f),E=c(.3*o,f),k=c(.2*o,v),T=c(.3*o,v);e.line(g+x.x,m+x.y,g+y.x,m+y.y),e.line(g+S.x,m+S.y,g+E.x,m+E.y),e.line(g+k.x,m+k.y,g+T.x,m+T.y),p=e.abs(p);for(let t=0;t<3;t++){let i=e.PI*u(.1*p+3e-4*e.millis());w=t*e.TWO_PI/3+.6*e.PI/6+p+i,f=t*e.TWO_PI/3+1.4*e.PI/6+p+i,x=c(.5*o,w),y=c(.5*o,f),e.line(g+x.x,m+x.y,g+y.x,m+y.y);let n=.02*p/e.PI+.02,l=(.5-n)*o,h=(.5+n)*o;x=c(l,w),y=c(h,w),e.line(g+x.x,m+x.y,g+y.x,m+y.y),x=c(l,f),y=c(h,f),e.line(g+x.x,m+x.y,g+y.x,m+y.y)}}(),(0,l.updateCursor)(e,e.mouseX,e.mouseY,n)},e.windowResized=function(){let n=(0,l.getViewportSize)();a=(0,l.widthCheck)(n.width),e.resizeCanvas(n.width,n.height),h=e.min(n.width,n.height),t=.5*e.width,i=.6*e.height,o=.2*h,d()},e.mousePressed=function(t){t&&0!==t.button||n.forEach((t,i)=>{if(t.contains(e.mouseX,e.mouseY)){if(window.appRouter)switch(i){case 0:setTimeout(()=>{window.appRouter.navigate("/interactive/live")},500);break;case 1:console.log("PHYSICAL ARTIFACTS COMING SOON");break;case 2:setTimeout(()=>{window.appRouter.navigate("/about")},500)}return}})}};var l=o("baa6D"),a=o("JTwtx");const d=function(e,t={}){let i=128,n=0,h=0,r=e.createVector(n,h),s=!1,d=[],c=null,u=0,g=0,m=!1,p=0,w=0,f=0,v=!1,x=0,y=0,S=new Map,E=null,k=0,T=!1,C=0,I=0,A=null,b=null,P=!1,F=0,R=0,W=0,Y=0,B=new Map,V=new Set,z=null,O=null;function L(){let t=(0,l.widthCheck)(e.width),i=t?.95*e.width:.82*e.width,o=t?.88*e.height:.82*e.height,n=(e.width-i)/2,h=t?(e.height-o)/2-40:(e.height-o)/2-20;return{width:i,height:o,x:n,y:h,isMobile:t}}function M(e,t,i,o,n){let l=n?20:24,h=n?28:32;return{galleryY:o+l+5.3*h,galleryHeight:.35*t,padding:l,lineHeight:h}}function X(){let t=(0,l.getViewportSize)();i=e.min(t.width,t.height),s=(0,l.widthCheck)(t.width),function(){d=[],B.clear();let t=s?25:40,i=s?14:18;e.textSize(i),a.projects.forEach((o,n)=>{let l=o.name.split(" "),h=[],r="";for(let e of l)(r+e).length>16&&r.length>0?(h.push(r.trim()),r=e+" "):r+=e+" ";r.length>0&&h.push(r.trim());let s=1.2*i,a=h.length*s,d=0;h.forEach(t=>{let i=e.textWidth(t);i>d&&(d=i)}),B.set(o.name,{lines:h,totalHeight:a,maxWidth:d,textOffsetX:t,textSize:i,lineHeight:s})}),window.textCache=B;let o=a.projects.length,n=s?20:25,h=s?14:18,r=e.height/5,c=e.width/2;for(let t=0;t<o;t++){let i=e.height-.25*(t+1)*r-.05*r,o=.25*(t+1)*r,u=-.75*e.PI+.09*t,g=(0,l.radialToCartesian)(o,u,e),m=e.createVector(g.x+c,-g.y+i),p=m.x,w=m.y,f=s?25:40,v=new(0,l.UIPlanetButton)(e,p,w,n,0,e.random(e.TWO_PI),0,[222,200],a.projects[t].name,h,f,0);v.hoverAlpha=0,v.targetHoverAlpha=0,d.push(v)}}(),P=!0,s&&(Y=0,W=0)}function D(t){if(c=t,p=255,g=e.millis(),m=!0,w=0,f=0,v=!1,_(a.projects[t]),document.body.style.overscrollBehavior="none",document.body.style.touchAction="none",screen.orientation&&screen.orientation.lock)try{screen.orientation.lock("portrait-primary").catch(()=>{})}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="none")}let i=a.projects[t];i&&i.slug&&Promise.resolve(o("drhU0")).then(({updateBreadcrumb:e})=>{e(`/interactive/live/${i.slug}`)})}function H(e){c=e,w=0,f=0,v=!1,_(a.projects[e]);let t=a.projects[e];if(t&&t.slug){let e=`/interactive/live/${t.slug}`;window.location.hash!==`#${e}`&&(window.history.pushState(null,"",`#${e}`),Promise.resolve(o("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}))}}function N(){if(p=0,g=e.millis(),m=!0,w=0,f=0,v=!1,null!==E&&G(),document.body.style.overscrollBehavior="",document.body.style.touchAction="",screen.orientation&&screen.orientation.unlock)try{screen.orientation.unlock()}catch(e){}if((0,l.widthCheck)(e.width)){let e=document.getElementById("breadcrumb-container");e&&(e.style.display="block")}window.location.hash.includes("/interactive/live/")&&"#/interactive/live"!==window.location.hash&&window.history.pushState(null,"","#/interactive/live"),Promise.resolve(o("drhU0")).then(({updateBreadcrumb:e})=>{e("/interactive/live")}),sessionStorage.removeItem("installationsActiveProject")}function j(){return(t,i)=>{if(null!==E){let o=(0,l.widthCheck)(e.width),n=o?50:40,h=(e.width-n)/2,r=a.projects[c];if(r&&r.images&&E<r.images.length){let l,s=r.images[E],a="string"==typeof s?s:s&&"object"==typeof s?s.default||s.src||s.href||s.toString():String(s),d=a.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),c=o?e.width:.8*e.width,u=.8*e.height;if(d){let e=A&&A.videoWidth&&A.videoHeight?A.videoWidth/A.videoHeight:16/9;l=e>c/u?c/e:u}else{let e=S.get(a);if(e&&e.loaded&&e.element){let t=e.element.width/e.element.height;l=t>c/u?c/t:u}else l=u}let g=(e.height-l)/2+l+(o?20:15);return t>=h&&t<=h+n&&i>=g&&i<=g+n}}if(null!==c){let{width:e,height:o,x:n,y:l,isMobile:h}=L(),r=h?44:30,s=n+e-r-10,a=l+10;return t>=s&&t<=s+r&&i>=a&&i<=a+r}return!1}}function U(e,t,i,o){let n=B.get(o);if(!n)return!1;let l={x:e.p.x+n.textOffsetX,y:e.p.y-n.totalHeight/2,width:n.maxWidth,height:n.totalHeight};return t>=l.x&&t<=l.x+l.width&&i>=l.y&&i<=l.y+l.height}function q(t,i,o,n,l,h){e.fill(23,23,23,l/255*200),e.stroke(230,l),e.strokeWeight(2),e.rect(t,i,o,o),e.fill(230,l),e.noStroke();let r=t+o/2,s=i+o/2,a=.3*o,d=.4*o;"left"===n?e.triangle(r-a/2,s,r+a/2,s-d/2,r+a/2,s+d/2):e.triangle(r+a/2,s,r-a/2,s-d/2,r-a/2,s+d/2)}function H(e,t=!1){if(e>=0&&e<a.projects.length&&e!==c){c=e,w=0,f=0,null!==E&&G(),_(a.projects[e]);let i=a.projects[e];if(i&&i.slug){let e=`/interactive/live/${i.slug}`;t||window.history.replaceState(null,"",`#${e}`),Promise.resolve(o("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}),sessionStorage.setItem("installationsActiveProject",i.slug)}}}e.cleanupSketch=function(){A&&(A.remove(),A=null),S.forEach((e,t)=>{"video"===e.type&&e.element&&e.element.remove&&e.element.remove()}),S.clear(),c=null,E=null,u=0,k=0,document.body.style.overscrollBehavior="",document.body.style.touchAction="",O&&(window.removeEventListener("hashchange",O),O=null)},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let i=(0,l.getViewportSize)();e.createCanvas(i.width,i.height),X(),e.background(23),e.textAlign(e.CENTER,e.CENTER),e.strokeCap(e.PROJECT),await (0,l.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),await (0,l.loadGoogleFontSet)("../../assets/fonts/ZxGamut.ttf"),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let o=document.getElementById("bg").shadowRoot.getElementById("p5_loading");o&&o.remove(),t&&t.project?(b=t.project,t.project,sessionStorage.setItem("installationsActiveProject",t.project)):sessionStorage.getItem("installationsActiveProject")&&(sessionStorage.removeItem("installationsActiveProject"),b=null,c=null,u=0,p=0,m=!1),O=function(e){let t=window.location.hash.substr(1);"/interactive/live"===(t&&""!==t?t.startsWith("/")?t:"/"+t:"/")&&null!==c&&N()},R=(0,l.daysSince)("2024-08-14"),window.addEventListener("hashchange",O)},e.draw=function(){if(e.background(23),F++,s&&d&&d.length>0){0===Y&&(Y=e.millis());let t=Math.floor((e.millis()-Y)/2e3%d.length);t!==W&&t<d.length&&(W=t);let i=d[W];i&&(n=e.constrain((0,l.smoothFollow)(i.p.x,n,.005*e.deltaTime),0,e.width),h=e.constrain((0,l.smoothFollow)(i.p.y,h,.005*e.deltaTime),0,e.height))}else n=(0,l.smoothFollow)(e.mouseX,n,.003*e.deltaTime),h=(0,l.smoothFollow)(e.mouseY,h,.003*e.deltaTime);if(r.x=n,r.y=h,e.noFill(),e.stroke(230),e.strokeWeight(1),function(){let t=e.height/5,o=e.width/2;e.push(),e.stroke(222,64),e.strokeWeight(1),e.noFill();for(let i=1;i<=d.length;i++){let n=e.height-.25*i*t-.05*t,l=.25*i*t;e.circle(o,n,2*l)}e.pop(),d.forEach((t,o)=>{let r=a.projects[o];if(!r)return;t.angle-=.01*e.noise(o);let d=s?n:e.mouseX,c=s?h:e.mouseY,u=t.contains(d,c),g=U(t,d,c,r.name),m=u||g;t.targetHoverAlpha=+!!m,t.hoverAlpha=e.lerp(t.hoverAlpha,t.targetHoverAlpha,m?.1:.01);let p=e.lerp(200,0,t.hoverAlpha),w=e.createVector(t.p.x+p,t.p.y);if(t.render(w,i),m&&r.images&&r.images.length>0&&(t.previewMedia||function(t,i){if(i&&i.images&&i.images.length>0){let o=i.images[0],n=(0,l.getMediaPath)(o);(0,l.isVideoFile)(n)?i.thumbnails&&i.thumbnails[o]&&e.loadImage(i.thumbnails[o],e=>{t.previewMedia=e},e=>{console.warn("Failed to load thumbnail for preview:",e)}):e.loadImage(n,e=>{t.previewMedia=e},e=>{console.warn("Failed to load image for preview:",e)})}}(t,r),t.previewMedia&&t.previewAlpha>.01)){let i=s?70:160,o=t.p.x-i-30,n=t.p.y-i/2;e.push(),e.tint(255,178.5*t.previewAlpha);let l=t.previewMedia.width,h=t.previewMedia.height,r=Math.min(l,h),a=(l-r)/2,d=(h-r)/2;e.image(t.previewMedia,o,n,i,i,a,d,r,r),e.noTint();let c=s?8:12,u=150*t.previewAlpha;e.stroke(255,u),e.strokeWeight(1),e.noFill(),[[o,n],[o+i,n],[o+i,n+i],[o,n+i]].forEach(([t,i],o)=>{e.line(t,i,t+(0===o||3===o?1:-1)*c,i),e.line(t,i,t,i+(0===o||1===o?1:-1)*c)}),e.pop()}m?t.previewAlpha=e.lerp(t.previewAlpha||0,1,.1):t.previewAlpha=e.lerp(t.previewAlpha||0,0,.15)})}(),e.push(),function(){let t=s?5:20,i=s?18:28;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(i),e.text("LIVE EXPERIENCES",e.width/2,t);let o=e.textWidth("LIVE EXPERIENCES");e.stroke(255,120),e.strokeWeight(1),e.line(e.width/2-o/2-20,t+i+8,e.width/2+o/2+20,t+i+8)}(),function(){let t=s?10:40,i=s?20:30;e.stroke(255,100),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,o],n)=>{e.line(t,o,t+(0===n||3===n?1:-1)*i,o),e.line(t,o,t,o+(0===n||1===n?1:-1)*i)});let o=s?3:5;for(let n=1;n<o;n++){let l=e.lerp(t+i,e.width-t-i,n/o);e.line(l,t,l,t+6),e.line(l,e.height-t,l,e.height-t-6)}for(let n=1;n<o;n++){let l=e.lerp(t+i,e.height-t-i,n/o);e.line(t,l,t+6,l),e.line(e.width-t,l,e.width-t-6,l)}e.fill(255,60),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textSize(s?8:11);let n=s?10:13;e.text("SYS: CAUTION",t+.5*i,t+ +n),e.text("SOL: "+R.toString(),t+.5*i,t+2*n),e.text("SIG: -27dBm",t+.5*i,t+3*n),e.text("RCS: ON",t+.5*i,t+4*n)}(),e.pop(),b&&P&&d&&d.length>0&&F>5){let e=(0,a.getProjectIndexBySlug)(b);-1!==e&&e<d.length&&D(e),b=null}e.noFill(),e.stroke(230,50);let t=.03*i;if(e.push(),e.translate(n,h),e.rotate(e.TWO_PI*e.noise(n/i,h/i,1e-4*e.millis())),e.circle(0,0,.33*t),e.triangle(t,0,t*e.cos(e.TWO_PI/3),t*e.sin(e.TWO_PI/3),t*e.cos(2*e.TWO_PI/3),t*e.sin(2*e.TWO_PI/3)),e.pop(),m){let t=e.millis()-g,i=e.constrain(t/250,0,1);u=e.lerp(u,p,i),i>=1&&(m=!1,u=p,0===p&&(c=null))}if(v||(w=e.lerp(w,f,.1)),T){let t=e.millis()-C,i=e.constrain(t/300,0,1);k=e.lerp(k,I,i),i>=1&&(T=!1,k=I,0===I&&(E=null))}let o=null!==c?[j(),(e,t)=>{if(null!==c&&a.projects.length>1){let{width:i,height:o,x:n,y:l,isMobile:h}=L(),r=h?50:40,s=h?20:15,a=l+o+s,d=n+(i-(2*r+80+2*s))/2,c=d+r+80+2*s;if(e>=d&&e<=d+r&&t>=a&&t<=a+r||e>=c&&e<=c+r&&t>=a&&t<=a+r)return!0}return!1}]:[...d,(e,t)=>{for(let i=0;i<d.length;i++){let o=d[i],n=a.projects[i];if(n&&U(o,e,t,n.name))return!0}return!1},j()];(0,l.updateCursor)(e,e.mouseX,e.mouseY,...o),(null!==c||u>0)&&function(t){let{width:i,height:o,x:n,y:h,isMobile:r}=L();e.fill(0,0,0,u/255*120),e.noStroke(),e.rect(0,0,e.width,e.height),e.fill(23,23,23,u/255*240),e.stroke(230,u),e.strokeWeight(2),e.rect(n,h,i,o);let s=r?44:30;var d=n+i-s-10,g=h+10,m=u;let p=.25*s;e.fill(50,50,50,m/255*200),e.stroke(200,m),e.strokeWeight(1),e.rect(d,g,s,s),e.stroke(200,m),e.strokeWeight(2),e.line(d+p,g+p,d+s-p,g+s-p),e.line(d+s-p,g+p,d+p,g+s-p),e.fill(230,u),e.noStroke(),e.textAlign(e.LEFT,e.TOP);let v=r?20:24,x=r?20:32,y=h+v;e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let E=r?22:32;e.textSize(E);let k=i-2*v-s,T=Math.ceil(e.textWidth(t.name)/k);e.text(t.name,n+v,y,k),y+=T*E*1.2+(r?8:16),e.textSize(r?12:18),e.text(t.type,n+v,y,i-2*v),y+=r?14:x;let C=`${t.year} - ${t.location}`;if(e.text(C,n+v,y,i-2*v),y+=r?18:1.5*x,t.images&&t.images.length>0){let h=r?.3*o:.4*o,s=y;(function(t,i,o,n,h,r){if(!t||0===t.length)return;e.fill(0,0,0,u/255*100),e.stroke(230,.3*u),e.strokeWeight(1),e.rect(i,o,n,h),e.push(),e.drawingContext.save(),e.drawingContext.beginPath(),e.drawingContext.rect(i,o,n,h),e.drawingContext.clip();let s=r?8:10,a=h-2*s,d=1.5*a,c=t.length*(d+s)-s,g=i+s,m=o+s,p=e.max(0,c-n+2*s);if(f=e.constrain(f,-p,0),t.forEach((t,o)=>{let h=(0,l.getMediaPath)(t),c=g+o*(d+s)+w;if(c+d>=i&&c<=i+n){let t=S.get(h);if(t&&!t.loaded&&function(t){let i=S.get(t);!i||i.loaded||V.has(t)||(V.add(t),"video-thumbnail-lazy"===i.type?e.loadImage(i.thumbnailPath,e=>{S.set(t,{element:e,type:"video-thumbnail",videoSrc:t,loaded:!0}),V.delete(t)},e=>{console.error("Failed to load video thumbnail:",i.thumbnailPath,e),S.set(t,{element:null,type:"video-placeholder",videoSrc:t,loaded:!0}),V.delete(t)}):"image-lazy"===i.type&&e.loadImage(i.imagePath,e=>{S.set(t,{element:e,type:"image",loaded:!0}),V.delete(t)},e=>{console.error("Failed to load image:",i.imagePath,e),V.delete(t)}))}(h),t&&t.loaded){e.push(),e.tint(255,u);try{if("image"===t.type){let i=t.element,{sourceX:o,sourceY:n,sourceWidth:h,sourceHeight:r}=(0,l.calculateCropDimensions)(i.width,i.height,d,a);e.image(i,c,m,d,a,o,n,h,r)}else if("video-thumbnail"===t.type){let i=t.element,{sourceX:o,sourceY:n,sourceWidth:h,sourceHeight:r}=(0,l.calculateCropDimensions)(i.width,i.height,d,a);e.image(i,c,m,d,a,o,n,h,r)}else if("video"===t.type){let i=t.element;if(i.elt&&(i.elt.readyState>=1||i.elt.videoWidth>0)){let t=i.elt.videoWidth||i.width||1920,o=i.elt.videoHeight||i.height||1080,{sourceX:n,sourceY:h,sourceWidth:r,sourceHeight:s}=(0,l.calculateCropDimensions)(t,o,d,a);e.image(i,c,m,d,a,n,h,r,s)}else e.fill(40,40,40,u/255*200),e.noStroke(),e.rect(c,m,d,a)}else if("video-placeholder"===t.type){e.fill(23,23,23,u/255*240),e.noStroke(),e.rect(c,m,d,a);let t=.15*d,i=c+(d-t)/2,o=m+(a-t)/2;var p=u;e.fill(0,0,0,p/255*120),e.noStroke(),e.circle(i+t/2,o+t/2,t),e.fill(255,255,255,p/255*180);let n=.35*t,l=i+t/2+.1*n,h=o+t/2;e.triangle(l-n/2,h-n/2,l-n/2,h+n/2,l+n/2,h)}}catch(i){console.warn("Error rendering media:",i),e.fill(80,80,80,u/255*150),e.stroke(120,.5*u),e.strokeWeight(1),e.rect(c,m,d,a),e.fill(200,.7*u),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?6:12),e.text("video"===t.type?"Video Error":"Image Error",c+d/2,m+a/2)}e.pop()}else t?"video-thumbnail-lazy"===t.type||"image-lazy"===t.type?(e.fill(60,60,60,u/255*120),e.stroke(110,.4*u),e.strokeWeight(1),e.rect(c,m,d,a),e.fill(180,.6*u),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?6:12),e.text("•••",c+d/2,m+a/2)):(e.fill(50,50,50,u/255*150),e.stroke(100,.5*u),e.strokeWeight(1),e.rect(c,m,d,a),e.fill(150,.7*u),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textSize(r?8:14),e.text("Loading...",c+d/2,m+a/2)):(e.fill(40,40,40,u/255*100),e.stroke(80,.3*u),e.strokeWeight(1),e.rect(c,m,d,a));e.noFill(),e.stroke(230,.6*u),e.strokeWeight(1),e.rect(c,m,d,a)}}),c>n){let t=.8*u;w<0&&(e.fill(230,t),e.noStroke(),e.triangle(i+5,o+h/2,i+15,o+h/2-5,i+15,o+h/2+5)),w>-p&&(e.fill(230,t),e.noStroke(),e.triangle(i+n-5,o+h/2,i+n-15,o+h/2-5,i+n-15,o+h/2+5))}e.drawingContext.restore(),e.pop()})(t.images,n+v,s,i-2*v,h,r),y+=h+(r?12:x)}if(t.description&&t.description.length>0){e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(r?10:16),e.fill(230,u),e.noStroke();let l=o-(y-h)-(r?10:v);e.text(t.description,n+v,y,i-2*v,l),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"})}a.projects.length>1&&function(t,i,o,n,l){let h=i+n+(l?20:15),r=t+o/2,s=u;q(r-80-17.5,h,35,"left",s,l),q(r+80-17.5,h,35,"right",s,l),e.fill(230,u),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize(16),e.text(`${c+1} / ${a.projects.length}`,r,h+17.5)}(n,h,i,o,r)}(a.projects[c]),(null!==E||k>0)&&function(){let t,i,o;if(null===c||null===E)return;let n=a.projects[c];if(!n.images||E>=n.images.length)return;let h=n.images[E];t="string"==typeof h?h:h&&"object"==typeof h?h.default||h.src||h.href||h.toString():String(h);let r=S.get(t);if(t.toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i)||r&&("video-placeholder"===r.type||"video-thumbnail"===r.type))return!function(t){let i,o;e.fill(0,0,0,k/255*200),e.noStroke(),e.rect(0,0,e.width,e.height),A&&A.src===t||(A&&A.remove(),(A=document.createElement("video")).src=t,A.controls=!0,A.preload="metadata",A.setAttribute("playsinline",!0),A.muted=!0,A.style.position="fixed",A.style.zIndex="1000",A.style.backgroundColor="#000",A.style.borderRadius="8px",document.body.appendChild(A));let n=(0,l.widthCheck)(e.width),h=n?e.width:.8*e.width,r=.8*e.height,s=16/9;A.videoWidth&&A.videoHeight&&(s=A.videoWidth/A.videoHeight),s>h/r?(i=h,o=h/s):(o=r,i=r*s);let a=(e.width-i)/2,d=(e.height-o)/2;A.style.left=a+"px",A.style.top=d+"px",A.style.width=i+"px",A.style.height=o+"px",A.style.opacity=k/255;let c=n?50:40,u=d+o+(n?20:15),g=(e.width-c)/2;e.fill(0,0,0,k/255*150),e.stroke(255,k),e.strokeWeight(2),e.rect(g,u,c,c),e.stroke(255,k),e.strokeWeight(3);let m=.3*c;e.line(g+m,u+m,g+c-m,u+c-m),e.line(g+c-m,u+m,g+m,u+c-m)}(r&&r.videoSrc?r.videoSrc:t);if(!r||!r.loaded)return;e.fill(0,0,0,k/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let s=(0,l.widthCheck)(e.width),d=s?e.width:.8*e.width,u=.8*e.height;if("image"===r.type){let e=r.element,t=e.width/e.height;t>d/u?(i=d,o=d/t):(o=u,i=u*t)}else if("video"===r.type){let e=r.element,t=e.elt.videoWidth||e.width||1920,n=e.elt.videoHeight||e.height||1080;(t<=0||n<=0)&&(t=1920,n=1080);let l=t/n;l>d/u?(i=d,o=d/l):(o=u,i=u*l)}let g=(e.width-i)/2,m=(e.height-o)/2;e.push(),e.tint(255,k),e.image(r.element,g,m,i,o),e.pop();let p=s?50:40,w=m+o+(s?20:15),f=(e.width-p)/2;e.fill(0,0,0,k/255*150),e.stroke(255,k),e.strokeWeight(2),e.rect(f,w,p,p),e.stroke(255,k),e.strokeWeight(3);let v=.3*p;e.line(f+v,w+v,f+p-v,w+p-v),e.line(f+p-v,w+v,f+v,w+p-v)}()},e.windowResized=function(){z&&clearTimeout(z),z=setTimeout(()=>{let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),X(),z=null},150)},e.mousePressed=function(t){if(!t||0===t.button){if(null!==E){let t,i,o,n=a.projects[c].images[E],h=(t="string"==typeof n?n:n&&"object"==typeof n?n.default||n.src||n.href||n.toString():String(n)).toLowerCase().match(/\.(mp4|mov|webm|avi)(\?.*)?$/i),r=(0,l.widthCheck)(e.width),s=r?e.width:.8*e.width,d=.8*e.height;if(h){let e=A&&A.videoWidth&&A.videoHeight?A.videoWidth/A.videoHeight:16/9;e>s/d?(i=s,o=s/e):(o=d,i=d*e)}else{let e=S.get(t);if(!e||!e.loaded)return;{let t=e.element,n=t.width/t.height;n>s/d?(i=s,o=s/n):(o=d,i=d*n)}}let u=(e.width-i)/2,g=(e.height-o)/2,m=r?50:40,p=r?20:15,w=(e.width-m)/2,f=g+o+p;if(e.mouseX>=w&&e.mouseX<=w+m&&e.mouseY>=f&&e.mouseY<=f+m)return void G();let v=o+p+m;return e.mouseX<u||e.mouseX>u+i||e.mouseY<g||e.mouseY>g+v?void G():void 0}if(null!==c){let{width:t,height:i,x:o,y:n,isMobile:l}=L(),h=l?44:30,r=o+t-h-10,s=n+10;if(e.mouseX>=r&&e.mouseX<=r+h&&e.mouseY>=s&&e.mouseY<=s+h)return void N();if(a.projects.length>1){let h=n+i+(l?20:15),r=o+t/2,s=r-80-17.5,d=r+80-17.5;if(e.mouseX>=s&&e.mouseX<=s+35&&e.mouseY>=h&&e.mouseY<=h+35){let e=0===c?a.projects.length-1:c-1;H(e);return}if(e.mouseX>=d&&e.mouseX<=d+35&&e.mouseY>=h&&e.mouseY<=h+35){let e=c===a.projects.length-1?0:c+1;H(e);return}}let d=a.projects[c];if(d.images&&d.images.length>0){let h=l?20:24,r=n+h+5.3*(l?28:32);if(e.mouseX>=o+h&&e.mouseX<=o+t-h&&e.mouseY>=r&&e.mouseY<=r+.35*i){v=!0,x=e.mouseX,y=w;return}}return e.mouseX<o||e.mouseX>o+t||e.mouseY<n||e.mouseY>n+i?void N():void 0}d.forEach((t,i)=>{let o=a.projects[i],n=t.contains(e.mouseX,e.mouseY),l=U(t,e.mouseX,e.mouseY,o.name);if(n||l){if(D(i),o&&o.slug&&window.appRouter){let e=`/interactive/live/${o.slug}`;window.location.hash!==`#${e}`&&window.history.pushState(null,"",`#${e}`)}return}})}},e.mouseDragged=function(){if(v&&null!==c){let t=e.mouseX-x;f=w=y+t}},e.mouseReleased=function(){if(v){let t=Math.abs(e.mouseX-x);if(v=!1,t<5&&null!==c){let t=a.projects[c];if(t&&t.images&&t.images.length>0){let{width:i,height:o,x:n,y:l,isMobile:h}=L(),{galleryY:r,padding:s,lineHeight:a}=M(i,o,n,l,h),d=h?.3*o:.4*o,c=h?8:10,u=d-2*c,g=1.5*u,m=n+s+c,p=r+c;for(let i=0;i<t.images.length;i++){let t=m+i*(g+c)+w;if(e.mouseX>=t&&e.mouseX<=t+g&&e.mouseY>=p&&e.mouseY<=p+u)return void(E=i,I=255,C=e.millis(),T=!0)}}}let i=a.projects[c];if(i&&i.images&&i.images.length>0){let{width:t,height:o}=L(),n=(0,l.widthCheck)(e.width),h=n?8:10,r=i.images.length*(1.5*((n?.3*o:.4*o)-2*h)+h)-h,s=e.max(0,r);f=e.constrain(f,-s,0)}}},e.mouseWheel=function(t){if(null!==c){let i=a.projects[c];if(i&&i.images&&i.images.length>0){let{width:o,height:n,x:l,y:h,isMobile:r}=L(),{galleryY:s,padding:a,lineHeight:d}=M(o,n,l,h,r),c=r?.3*n:.4*n;if(e.mouseX>=l+a&&e.mouseX<=l+o-a&&e.mouseY>=s&&e.mouseY<=s+c){let o=2*t.delta;f-=o;let n=r?8:10,l=i.images.length*(1.5*(c-2*n)+n)-n,h=e.max(0,l);return f=e.constrain(f,-h,0),!1}}}};let $=new Map;function _(t){var i;t.images&&0!==t.images.length&&(i=t,$.forEach((e,t)=>{t!==i.slug&&(e.forEach(e=>{let t=S.get(e);t&&t.element&&"video"===t.type&&t.element.elt&&t.element.remove(),S.delete(e)}),$.delete(t))}),t.images.forEach((i,o)=>{let n=(0,l.getMediaPath)(i);if(!S.has(n)){let o=(0,l.isVideoFile)(n);if((0,l.widthCheck)(e.width)&&o)return void(t.thumbnails&&t.thumbnails[i]?S.set(n,{element:null,type:"video-thumbnail-lazy",videoSrc:n,thumbnailPath:t.thumbnails[i],loaded:!1}):S.set(n,{element:null,type:"video-placeholder",videoSrc:n,loaded:!0}));o?function(t){if((0,l.widthCheck)(e.width))return console.warn("Attempted to load video on mobile - this should not happen");if(S.has(t)||V.has(t))return;V.add(t),S.set(t,{element:null,type:"video",loaded:!1});let i=e.createVideo(t,()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),V.delete(t))});i.hide(),i.volume(0),i.elt.setAttribute("playsinline",!0),i.elt.setAttribute("muted",!0),i.elt.setAttribute("preload","metadata"),i.loop(),i.elt.addEventListener("canplay",()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),V.delete(t))}),setTimeout(()=>{let e=S.get(t);e&&!e.loaded&&(S.set(t,{element:i,type:"video",loaded:!0}),V.delete(t))},3e3)}(n):S.set(n,{element:null,type:"image-lazy",imagePath:n,loaded:!1})}$.has(t.slug)||$.set(t.slug,new Set),$.get(t.slug).add(n)}))}function G(){I=0,C=e.millis(),T=!0,A&&(A.remove(),A=null)}};var l=o("baa6D"),c=o("d9MMf");const u=function(e,t={}){let i="collections",n=null,h=!1,r=0,s=0,a=0,d=[],u=[],g=0,m=0,p=null,w=!1,f=0,v=0,x=0,y=0,S=!1,E=0,k=0,T=0,C=!1,I=0,A=new Map,b=0,P=0,F=!1,R=null,W=null,Y=0;function B(){let t=(0,l.getViewportSize)();e.min(t.width,t.height),h=(0,l.widthCheck)(t.width),"collections"===i?function(){d=[];let t=h?e.min(.45*e.width,.35*e.height):e.min(.4*e.width,.35*e.height),i=h?15:40,o=2*t+i,n=2*t+i,l=(e.width-o)/2,r=(e.height-n)/2;c.photoCollections.forEach((o,n)=>{let s=Math.floor(n/2),a=l+n%2*(t+i),c=r+s*(t+i),u=A.has(o.heroImage)&&A.get(o.heroImage).loaded;d.push({collection:o,x:a,y:c,width:t,height:t,hoverAlpha:+!!h,targetHoverAlpha:+!!h,heroFadeAlpha:255*!!u,heroFadeTarget:255*!!u,heroFadeStart:u?0:e.millis()}),D(o.heroImage)})}():"gallery"===i&&(w=!1,n&&(u=n.images.map((e,t)=>({path:e,index:t,loaded:!1,hoverAlpha:0,targetHoverAlpha:0})),f=0,w=!1,v=0,x=0,y=0,p&&(p.remove(),p=null),u.forEach(e=>D(e.path,!0)),H()))}function V(){return h?2:4}function z(){let t=V(),i=h?12:20;return(e.width-i*(t+1))/t}function O(){if(!n||0===u.length)return 0;let t=V(),i=z(),o=h?12:20;return Math.max(0,120+Math.ceil(u.length/t)*(i+o)+o+50-e.height)}function L(){d.forEach(t=>{if(N(e.mouseX,e.mouseY,t.x,t.y,t.width,t.height)){let e=`/photo/${t.collection.slug}`;window.appRouter?window.appRouter.navigate(e):(window.history.pushState(null,"",`#${e}`),i="gallery",n=t.collection,B(),Promise.resolve(o("drhU0")).then(({updateBreadcrumb:t})=>{t(e)}))}})}function M(){let t=V(),i=z(),o=h?12:20;u.forEach((n,l)=>{let h=Math.floor(l/t),r=o+l%t*(i+o),s=120+h*(i+o);N(e.mouseX,e.mouseY-g,r,s,i,i)&&(S=!0,E=l,T=255,I=e.millis(),C=!0)})}function X(){if(!n)return;let t=n.images[E],i=A.get(t);if(i&&i.loaded){let t,o,l=.9*e.width,h=.8*e.height,r=i.element.width/i.element.height;r>l/h?(t=l,o=l/r):(o=h,t=h*r);let s=(e.width-t)/2,a=(e.height-o)/2;if(n.images.length>1){let t=e.height-70,i=e.width/2-80-17.5;if(N(e.mouseX,e.mouseY,i,t-17.5,35,35)){E=0===E?n.images.length-1:E-1;return}let o=e.width/2+80-17.5;if(N(e.mouseX,e.mouseY,o,t-17.5,35,35)){E=E===n.images.length-1?0:E+1;return}}N(e.mouseX,e.mouseY,s,a,t,o)||(T=0,I=e.millis(),C=!0)}}function D(t,o=!1){A.has(t)||(A.set(t,{element:null,loaded:!1}),e.loadImage(t,l=>{A.set(t,{element:l,loaded:!0}),o||"collections"!==i||d.forEach(i=>{i.collection.heroImage===t&&(i.heroFadeTarget=255,i.heroFadeStart=e.millis())}),o&&"gallery"===i&&n&&H()},e=>{console.warn("Failed to load image:",t,e),o&&"gallery"===i&&n&&H()}))}function H(){n&&(f=n.images.filter(e=>{let t=A.get(e);return t&&t.loaded}).length/n.images.length)>=1&&!w&&function(){if(!n||w)return;let t=V(),i=z(),o=h?12:20,l=Math.ceil(u.length/t),r=120+l*(i+o)+o;p&&p.remove(),p=e.createGraphics(e.width,r),u.forEach((e,n)=>{let l=A.get(e.path);if(l&&l.loaded){let e=Math.floor(n/t),h=o+n%t*(i+o),r=120+e*(i+o);p.fill(40,40,45),p.stroke(100,100),p.strokeWeight(1),p.rect(h,r,i,i),p.push(),p.tint(255,200);let s=Math.min(l.element.width,l.element.height),a=(l.element.width-s)/2,d=(l.element.height-s)/2;p.image(l.element,h,r,i,i,a,d,s,s),p.pop()}}),w=!0,x=255,y=e.millis(),console.log("Gallery graphics created successfully",{width:e.width,height:r,rows:l,maxScroll:O()})}()}function N(e,t,i,o,n,l){return e>=i&&e<=i+n&&t>=o&&t<=o+l}e.cleanupSketch=function(){A.clear(),R&&(window.removeEventListener("hashchange",R),R=null),W&&(document.removeEventListener("touchstart",W),document.removeEventListener("touchmove",W),document.removeEventListener("touchend",W),W=null),p&&(p.remove(),p=null),w=!1},e.setup=async function(){e.noCanvas(),e.pixelDensity(1);let o=(0,l.getViewportSize)();e.createCanvas(o.width,o.height),await (0,l.loadGoogleFontSet)("../../assets/fonts/BPdotsSquareVF.ttf"),await (0,l.loadGoogleFontSet)("../../assets/fonts/ZxGamut.ttf"),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"});let h=document.getElementById("bg"),r=h.shadowRoot.getElementById("p5_loading");r&&r.remove();let s=h.shadowRoot.querySelector("canvas");s&&(s.style.touchAction="none",s.style.userSelect="none",s.style.webkitUserSelect="none",s.style.webkitTouchCallout="none"),h&&(h.style.touchAction="none",h.style.overscrollBehavior="none"),W=e=>{s&&s.contains(e.target)&&e.preventDefault()},document.addEventListener("touchstart",W,{passive:!1}),document.addEventListener("touchmove",W,{passive:!1}),document.addEventListener("touchend",W,{passive:!1}),t&&t.collection?(i="gallery",(n=(0,c.findCollectionBySlug)(t.collection))||(i="collections")):i="collections",B(),Y=(0,l.daysSince)("2024-08-14"),R=function(e){let t=window.location.hash.substr(1),o=t&&""!==t?t.startsWith("/")?t:"/"+t:"/";if("/photo"===o&&"gallery"===i)i="collections",n=null,B();else if(o.startsWith("/photo/")&&"collections"===i){let e=o.replace("/photo/",""),t=c.photoCollections.find(t=>t.slug===e);t&&(i="gallery",n=t,B())}},window.addEventListener("hashchange",R)},e.draw=function(){if(e.background(23),a++,r=(0,l.smoothFollow)(e.mouseX,r,.003*e.deltaTime),s=(0,l.smoothFollow)(e.mouseY,s,.003*e.deltaTime),"collections"===i?d.forEach(t=>{var i,o,n,l,r,s;if(h)t.targetHoverAlpha=1,t.hoverAlpha=1;else{let i=N(e.mouseX,e.mouseY,t.x,t.y,t.width,t.height);t.targetHoverAlpha=+!!i,t.hoverAlpha=e.lerp(t.hoverAlpha,t.targetHoverAlpha,i?.15:.08)}let a=A.get(t.collection.heroImage);if(a&&a.loaded){e.push(),e.tint(255,(180+75*t.hoverAlpha)*(t.heroFadeAlpha/255));let i=Math.min(a.element.width,a.element.height),o=(a.element.width-i)/2,n=(a.element.height-i)/2;e.image(a.element,t.x,t.y,t.width,t.height,o,n,i,i),e.pop()}e.fill(30,30,35,150+55*t.hoverAlpha);let d=h?100:100+155*t.hoverAlpha;e.stroke(230,d),e.strokeWeight(2),e.rect(t.x,t.y,t.width,t.height),i=t.x,o=t.y,n=t.width,l=t.height,r=20,s=d,e.stroke(255,s),e.strokeWeight(2),e.noFill(),[[i,o],[i+n,o],[i+n,o+l],[i,o+l]].forEach(([t,i],o)=>{e.line(t,i,t+(0===o||3===o?1:-1)*20,i),e.line(t,i,t,i+(0===o||1===o?1:-1)*r)}),e.fill(230,200+55*t.hoverAlpha),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(h?16:24),e.text(t.collection.name,t.x+t.width/2,t.y+t.height/2-15),e.textFont("ZxGamut",{fontVariationSettings:"wght 400"}),e.textSize(h?11:14),e.fill(180,120+135*t.hoverAlpha);let c=t.collection.description.split(" "),u=h?25:35,g=[],m="";for(let e of c)(m+e).length>u&&m.length>0?(g.push(m.trim()),m=e+" "):m+=e+" ";m.length>0&&g.push(m.trim()),e.textAlign(e.CENTER,e.CENTER);let p=h?12:18,w=t.y+t.height/2+20-(g.length-1)*p/2;g.forEach((i,o)=>{e.text(i,t.x+t.width/2,w+o*p)})}):"gallery"===i&&function(){if(n){if(g=e.lerp(g,m,.1),!w)return function(){let t=e.width/2,i=e.height/2;e.fill(23,23,23,200),e.noStroke(),e.rect(0,120,e.width,e.height-120),e.fill(230,180),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(h?16:20),e.text("LOADING GALLERY...",t,i-40);let o=h?200:300,n=t-o/2,l=i-10;e.fill(50,50,55),e.rect(n,l,o,4);let r=o*f;e.fill(74,144,230),e.rect(n,l,r,4),e.textSize(h?12:14),e.fill(150);let s=Math.round(100*f);e.text(`${s}%`,t,i+20);let a=t-8,d=Math.floor(e.millis()/300)%4;e.fill(100);for(let t=0;t<3;t++){let o=t===d?255:100;e.fill(100,o),e.circle(a+8*t,i+45,3)}}();p&&(e.push(),e.tint(255,v),e.translate(0,g),e.image(p,0,0),e.pop(),function(){if(!p)return;let t=V(),i=z(),o=h?12:20;u.forEach((n,l)=>{let r=Math.floor(l/t),s=o+l%t*(i+o),a=120+r*(i+o);if(h)n.targetHoverAlpha=0,n.hoverAlpha=0;else{let t=N(e.mouseX,e.mouseY-g,s,a,i,i);n.targetHoverAlpha=100*!!t,n.hoverAlpha=e.lerp(n.hoverAlpha,n.targetHoverAlpha,t?.2:.1)}n.hoverAlpha>0&&(e.push(),e.translate(0,g),e.fill(74,144,230,n.hoverAlpha),e.noStroke(),e.rect(s,a,i,i),e.pop())})}())}}(),function(){let t=h?10:40,i=h?20:30;e.stroke(255,100),e.strokeWeight(1),e.strokeCap(e.SQUARE),e.noFill(),[[t,t],[e.width-t,t],[e.width-t,e.height-t],[t,e.height-t]].forEach(([t,o],n)=>{e.line(t,o,t+(0===n||3===n?1:-1)*i,o),e.line(t,o,t,o+(0===n||1===n?1:-1)*i)}),e.fill(255,60),e.noStroke(),e.textAlign(e.LEFT,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(h?8:11);let o=h?10:13;e.text("SYS: ACTIVE",t+.5*i,t+ +o),e.text("SOL: "+Y.toString(),t+.5*i,t+2*o),e.text("MODE: PHOTO",t+.5*i,t+3*o)}(),C){let t=e.millis()-I,i=e.constrain(t/300,0,1);k=e.lerp(k,T,i),i>=1&&(C=!1,k=T,0===T&&(S=!1))}if(function(t){let i=h?20:30,o=h?20:32;e.fill(255,200),e.noStroke(),e.textAlign(e.CENTER,e.TOP),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 900"}),e.textSize(o),e.text(t,e.width/2,i);let n=e.textWidth(t);e.stroke(255,120),e.strokeWeight(1),e.line(e.width/2-n/2-8,i+o+8,e.width/2+n/2+8,i+o+8)}("collections"===i?"PHOTO":n?n.name:"GALLERY"),"collections"===i&&d.forEach(t=>{if(t.heroFadeTarget>t.heroFadeAlpha){let i=e.millis()-t.heroFadeStart,o=e.constrain(i/400,0,1);t.heroFadeAlpha=e.lerp(0,t.heroFadeTarget,o)}}),"gallery"===i&&x>v){let t=e.millis()-y,i=e.constrain(t/400,0,1);v=e.lerp(0,x,i)}(S||k>0)&&function(){if(!n||E>=n.images.length)return;e.fill(0,0,0,k/255*200),e.noStroke(),e.rect(0,0,e.width,e.height);let t=n.images[E],i=A.get(t);if(i&&i.loaded){let t,o,l=.9*e.width,h=.8*e.height,r=i.element.width/i.element.height;r>l/h?(t=l,o=l/r):(o=h,t=h*r);let s=(e.width-t)/2,a=(e.height-o)/2;e.push(),e.tint(255,k),e.image(i.element,s,a,t,o),e.pop();let d=e.height-70;if(e.fill(230,k),e.noStroke(),e.textAlign(e.CENTER,e.CENTER),e.textFont("BPdotsSquareVF",{fontVariationSettings:"wght 600"}),e.textSize(16),e.text(`${E+1} / ${n.images.length}`,e.width/2,d),n.images.length>1){let t=e.width/2-80-17.5;e.fill(23,23,23,k/255*200),e.stroke(230,k),e.strokeWeight(2),e.rect(t,d-17.5,35,35),e.fill(230,k),e.noStroke(),e.triangle(t+10.5,d,t+24.5,d-7,t+24.5,d+7);let i=e.width/2+80-17.5;e.fill(23,23,23,k/255*200),e.stroke(230,k),e.strokeWeight(2),e.rect(i,d-17.5,35,35),e.fill(230,k),e.noStroke(),e.triangle(i+24.5,d,i+10.5,d-7,i+10.5,d+7)}}}(),(0,l.updateCursor)(e,e.mouseX,e.mouseY,...function(){let t=[];if("collections"===i)d.forEach(i=>{t.push(()=>N(e.mouseX,e.mouseY,i.x,i.y,i.width,i.height))});else if("gallery"!==i||S){if(S&&n&&n.images.length>1){let i=e.height-70,o=e.width/2-80-17.5;t.push(()=>N(e.mouseX,e.mouseY,o,i-17.5,35,35));let n=e.width/2+80-17.5;t.push(()=>N(e.mouseX,e.mouseY,n,i-17.5,35,35))}}else{let i=V(),o=z(),n=h?12:20;u.forEach((l,h)=>{let r=Math.floor(h/i),s=n+h%i*(o+n),a=120+r*(o+n);t.push(()=>N(e.mouseX,e.mouseY-g,s,a,o,o))})}return t}())},e.windowResized=function(){let t=(0,l.getViewportSize)();e.resizeCanvas(t.width,t.height),B()},e.mousePressed=function(t){t&&0!==t.button||(b=e.mouseY,P=e.millis(),F=!1)},e.mouseDragged=function(t){if(Math.abs(e.mouseY-b)>10&&(F=!0,"gallery"===i&&!S)){let t=e.mouseY-e.pmouseY;m+=2*t;let i=O();m=e.constrain(m,-i,0)}},e.mouseReleased=function(t){let o=e.millis()-P,n=Math.abs(e.mouseY-b);if(!F&&n<10&&o<200){if(S)return void X();"collections"===i?L():"gallery"===i&&M()}F=!1},e.mouseWheel=function(t){if("gallery"===i&&!S){m-=2*t.delta;let i=O();return m=e.constrain(m,-i,0),!1}},e.touchStarted=function(t){return b=e.mouseY,P=e.millis(),F=!1,t&&t.preventDefault&&t.preventDefault(),!1},e.touchMoved=function(t){if(Math.abs(e.mouseY-b)>10&&(F=!0,"gallery"===i&&!S)){let t=e.mouseY-e.pmouseY;m+=2*t;let i=O();m=e.constrain(m,-i,0)}return t&&t.preventDefault&&t.preventDefault(),!1},e.touchEnded=function(t){let o=e.millis()-P,n=Math.abs(e.mouseY-b);if(!F&&n<10&&o<200){if(S)return X(),!1;"collections"===i?L():"gallery"===i&&M()}return F=!1,t&&t.preventDefault&&t.preventDefault(),!1}};class g extends n.LitElement{static styles=(0,n.css)`
        canvas {
            display: block;
            margin: 0;
            padding: 0;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }
    `;static properties={id:{type:String},sketch:{type:String},skipAnimations:{type:Boolean},options:{type:Object}};constructor(){super(),this.id="bg",this.sketch="",this.skipAnimations=!1,this.options={},this.p5Instance=null,this.containerDiv=null,this.isInitialized=!1}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.isInitialized||this.initializeSketch()})}disconnectedCallback(){super.disconnectedCallback(),this.cleanupSketch()}updated(e){super.updated(e),this.isInitialized&&(e.has("sketch")||e.has("skipAnimations")||e.has("options"))?(this.cleanupSketch(),this.initializeSketch()):this.isInitialized||this.initializeSketch()}cleanupSketch(){try{this.p5Instance&&(console.log(`p5-element: Cleaning up p5 instance for ${this.sketch}`),"function"==typeof this.p5Instance.cleanupSketch&&this.p5Instance.cleanupSketch(),this.p5Instance.remove(),this.p5Instance=null),this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}catch(e){console.error("p5-element: Error during cleanup:",e),this.p5Instance=null,this.containerDiv&&(this.containerDiv.innerHTML=""),this.isInitialized=!1}}initializeSketch(){try{if(this.containerDiv||(this.containerDiv=this.shadowRoot.querySelector("#sketch-container")),!this.containerDiv){console.warn("p5-element: Container not ready yet, retrying..."),setTimeout(()=>this.initializeSketch(),100);return}if(this.containerDiv.innerHTML="",console.log(`p5-element: Initializing sketch: ${this.sketch}, skipAnimations: ${this.skipAnimations}, options:`,this.options),"home"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>h(e,t),e))(this.containerDiv,{skipAnimations:this.skipAnimations});else if("codeart"===this.sketch){let e;this.p5Instance=(e=this.containerDiv,new p5(s,e))}else if("installations"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>d(e,t),e))(this.containerDiv,this.options);else if("photo"===this.sketch)this.p5Instance=((e,t={})=>new p5(e=>u(e,t),e))(this.containerDiv,this.options);else{let e;this.p5Instance=(e=this.containerDiv,new p5(r,e))}this.p5Instance&&(console.log(`p5-element: Successfully created p5 instance for ${this.sketch}`),this.isInitialized=!0)}catch(e){console.error("p5-element: Error initializing sketch:",e),this.isInitialized=!1}}render(){return(0,n.html)`<div id="sketch-container"></div>`}}customElements.define("p5-element",g);
//# sourceMappingURL=blap64.f70d1f4e.js.map
